{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/check","imported":["Match","check"],"specifiers":[{"kind":"named","imported":"Match","local":"Match"},{"kind":"named","imported":"check","local":"check"}]},{"source":"meteor/mdg:validated-method","imported":["ValidatedMethod"],"specifiers":[{"kind":"named","imported":"ValidatedMethod","local":"ValidatedMethod"}]},{"source":"./utils","imported":["uploadFile"],"specifiers":[{"kind":"named","imported":"uploadFile","local":"uploadFile"}]}],"exports":{"exported":["uploadFileMethod"],"specifiers":[{"kind":"local","local":"uploadFileMethod","exported":"uploadFileMethod"}]}}},"options":{"filename":"/imports/api/server/methods.js","filenameRelative":"/imports/api/server/methods.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/api/server/methods.js.map","sourceFileName":"/imports/api/server/methods.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"methods"},"ignored":false,"code":"module.export({\n  uploadFileMethod: function () {\n    return uploadFileMethod;\n  }\n});\nvar Match = void 0,\n    check = void 0;\nmodule.importSync(\"meteor/check\", {\n  Match: function (v) {\n    Match = v;\n  },\n  check: function (v) {\n    check = v;\n  }\n}, 0);\nvar ValidatedMethod = void 0;\nmodule.importSync(\"meteor/mdg:validated-method\", {\n  ValidatedMethod: function (v) {\n    ValidatedMethod = v;\n  }\n}, 1);\nvar uploadFile = void 0;\nmodule.importSync(\"./utils\", {\n  uploadFile: function (v) {\n    uploadFile = v;\n  }\n}, 2);\nvar uploadFileMethod = new ValidatedMethod({\n  name: 'uploadFile',\n  validate: function (_ref) {\n    var name = _ref.name,\n        data = _ref.data;\n    check(name, String);\n    check(data, Match.Any);\n  },\n  run: function (doc) {\n    return uploadFile(doc);\n  }\n});","map":{"version":3,"sources":["/imports/api/server/methods.js"],"names":["module","export","uploadFileMethod","Match","check","importSync","v","ValidatedMethod","uploadFile","name","validate","data","String","Any","run","doc"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAACC,oBAAiB;AAAA,WAAIA,gBAAJ;AAAA;AAAlB,CAAd;AAAuD,IAAIC,cAAJ;AAAA,IAAUC,cAAV;AAAgBJ,OAAOK,UAAP,CAAkB,cAAlB,EAAiC;AAACF,SAAM,UAASG,CAAT,EAAW;AAACH,YAAMG,CAAN;AAAQ,GAA3B;AAA4BF,SAAM,UAASE,CAAT,EAAW;AAACF,YAAME,CAAN;AAAQ;AAAtD,CAAjC,EAAyF,CAAzF;AAA4F,IAAIC,wBAAJ;AAAoBP,OAAOK,UAAP,CAAkB,6BAAlB,EAAgD;AAACE,mBAAgB,UAASD,CAAT,EAAW;AAACC,sBAAgBD,CAAhB;AAAkB;AAA/C,CAAhD,EAAiG,CAAjG;AAAoG,IAAIE,mBAAJ;AAAeR,OAAOK,UAAP,CAAkB,SAAlB,EAA4B;AAACG,cAAW,UAASF,CAAT,EAAW;AAACE,iBAAWF,CAAX;AAAa;AAArC,CAA5B,EAAmE,CAAnE;AAMnS,IAAMJ,mBAAmB,IAAIK,eAAJ,CAAoB;AAClDE,QAAM,YAD4C;AAGlDC,UAHkD,kBAGzB;AAAA,QAAdD,IAAc,QAAdA,IAAc;AAAA,QAARE,IAAQ,QAARA,IAAQ;AACvBP,UAAMK,IAAN,EAAYG,MAAZ;AACAR,UAAMO,IAAN,EAAYR,MAAMU,GAAlB;AACD,GANiD;AAQlDC,KARkD,YAQ9CC,GAR8C,EAQzC;AACP,WAAOP,WAAWO,GAAX,CAAP;AACD;AAViD,CAApB,CAAzB","file":"/imports/api/server/methods.js.map","sourcesContent":["import { Match, check } from 'meteor/check';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { uploadFile } from './utils';\n\n// save binary data to amazon s3\n\nexport const uploadFileMethod = new ValidatedMethod({\n  name: 'uploadFile',\n\n  validate({ name, data }) {\n    check(name, String);\n    check(data, Match.Any);\n  },\n\n  run(doc) {\n    return uploadFile(doc);\n  },\n});\n"]},"hash":"336319f5d532a56f30eeec28ba252201b963d1bf"}
