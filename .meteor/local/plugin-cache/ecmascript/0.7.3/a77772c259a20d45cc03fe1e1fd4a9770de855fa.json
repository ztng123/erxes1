{"metadata":{"usedHelpers":["extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"./conversations","imported":["Conversations"],"specifiers":[{"kind":"named","imported":"Conversations","local":"Conversations"}]},{"source":"./messages","imported":["Messages"],"specifiers":[{"kind":"named","imported":"Messages","local":"Messages"}]},{"source":"./constants","imported":["CONVERSATION_STATUSES"],"specifiers":[{"kind":"named","imported":"CONVERSATION_STATUSES","local":"CONVERSATION_STATUSES"}]}],"exports":{"exported":["createConversation","createMessage"],"specifiers":[{"kind":"local","local":"createConversation","exported":"createConversation"},{"kind":"local","local":"createMessage","exported":"createMessage"}]}}},"options":{"filename":"/imports/api/conversations/utils.js","filenameRelative":"/imports/api/conversations/utils.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/api/conversations/utils.js.map","sourceFileName":"/imports/api/conversations/utils.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"utils"},"ignored":false,"code":"var _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  createConversation: function () {\n    return createConversation;\n  },\n  createMessage: function () {\n    return createMessage;\n  }\n});\nvar Conversations = void 0;\nmodule.importSync(\"./conversations\", {\n  Conversations: function (v) {\n    Conversations = v;\n  }\n}, 0);\nvar Messages = void 0;\nmodule.importSync(\"./messages\", {\n  Messages: function (v) {\n    Messages = v;\n  }\n}, 1);\nvar CONVERSATION_STATUSES = void 0;\nmodule.importSync(\"./constants\", {\n  CONVERSATION_STATUSES: function (v) {\n    CONVERSATION_STATUSES = v;\n  }\n}, 2);\n\nvar createConversation = function (doc) {\n  return Conversations.insert((0, _extends3.default)({}, doc, {\n    status: CONVERSATION_STATUSES.NEW,\n    createdAt: new Date(),\n    number: Conversations.find().count() + 1,\n    messageCount: 0\n  }));\n};\n\nvar createMessage = function (doc) {\n  return Messages.insert((0, _extends3.default)({}, doc, {\n    createdAt: new Date(),\n    internal: false\n  }));\n};","map":{"version":3,"sources":["/imports/api/conversations/utils.js"],"names":["module","export","createConversation","createMessage","Conversations","importSync","v","Messages","CONVERSATION_STATUSES","insert","doc","status","NEW","createdAt","Date","number","find","count","messageCount","internal"],"mappings":";;;;;;AAAAA,OAAOC,MAAP,CAAc;AAACC,sBAAmB;AAAA,WAAIA,kBAAJ;AAAA,GAApB;AAA2CC,iBAAc;AAAA,WAAIA,aAAJ;AAAA;AAAzD,CAAd;AAA2F,IAAIC,sBAAJ;AAAkBJ,OAAOK,UAAP,CAAkB,iBAAlB,EAAoC;AAACD,iBAAc,UAASE,CAAT,EAAW;AAACF,oBAAcE,CAAd;AAAgB;AAA3C,CAApC,EAAiF,CAAjF;AAAoF,IAAIC,iBAAJ;AAAaP,OAAOK,UAAP,CAAkB,YAAlB,EAA+B;AAACE,YAAS,UAASD,CAAT,EAAW;AAACC,eAASD,CAAT;AAAW;AAAjC,CAA/B,EAAkE,CAAlE;AAAqE,IAAIE,8BAAJ;AAA0BR,OAAOK,UAAP,CAAkB,aAAlB,EAAgC;AAACG,yBAAsB,UAASF,CAAT,EAAW;AAACE,4BAAsBF,CAAtB;AAAwB;AAA3D,CAAhC,EAA6F,CAA7F;;AAItS,IAAMJ,qBAAqB,eAAO;AACvC,SAAOE,cAAcK,MAAd,4BACFC,GADE;AAELC,YAAQH,sBAAsBI,GAFzB;AAGLC,eAAW,IAAIC,IAAJ,EAHN;AAILC,YAAQX,cAAcY,IAAd,GAAqBC,KAArB,KAA+B,CAJlC;AAKLC,kBAAc;AALT,KAAP;AAOD,CARM;;AAUA,IAAMf,gBAAgB,eAAO;AAClC,SAAOI,SAASE,MAAT,4BACFC,GADE;AAELG,eAAW,IAAIC,IAAJ,EAFN;AAGLK,cAAU;AAHL,KAAP;AAKD,CANM","file":"/imports/api/conversations/utils.js.map","sourcesContent":["import { Conversations } from './conversations';\nimport { Messages } from './messages';\nimport { CONVERSATION_STATUSES } from './constants';\n\nexport const createConversation = doc => {\n  return Conversations.insert({\n    ...doc,\n    status: CONVERSATION_STATUSES.NEW,\n    createdAt: new Date(),\n    number: Conversations.find().count() + 1,\n    messageCount: 0,\n  });\n};\n\nexport const createMessage = doc => {\n  return Messages.insert({\n    ...doc,\n    createdAt: new Date(),\n    internal: false,\n  });\n};\n"]},"hash":"a77772c259a20d45cc03fe1e1fd4a9770de855fa"}
