{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"../../server/utils","imported":["mutate"],"specifiers":[{"kind":"named","imported":"mutate","local":"mutate"}]}],"exports":{"exported":["messageInserted","conversationsChanged"],"specifiers":[{"kind":"local","local":"messageInserted","exported":"messageInserted"},{"kind":"local","local":"conversationsChanged","exported":"conversationsChanged"}]}}},"options":{"filename":"/imports/api/conversations/server/apolloPubSubs.js","filenameRelative":"/imports/api/conversations/server/apolloPubSubs.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/api/conversations/server/apolloPubSubs.js.map","sourceFileName":"/imports/api/conversations/server/apolloPubSubs.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"apolloPubSubs"},"ignored":false,"code":"module.export({\n  messageInserted: function () {\n    return messageInserted;\n  },\n  conversationsChanged: function () {\n    return conversationsChanged;\n  }\n});\nvar mutate = void 0;\nmodule.importSync(\"../../server/utils\", {\n  mutate: function (v) {\n    mutate = v;\n  }\n}, 0);\n\nvar messageInserted = function (messageId) {\n  return mutate(\"\\n    mutation {\\n      conversationMessageInserted(_id: \\\"\" + messageId + \"\\\")\\n    }\\n  \");\n};\n\nvar conversationsChanged = function (conversationIds, type) {\n  return mutate(\"\\n    mutation {\\n      conversationsChanged(_ids: \" + JSON.stringify(conversationIds) + \", type: \\\"\" + type + \"\\\")\\n    }\\n  \");\n};","map":{"version":3,"sources":["/imports/api/conversations/server/apolloPubSubs.js"],"names":["module","export","messageInserted","conversationsChanged","mutate","importSync","v","messageId","conversationIds","type","JSON","stringify"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAACC,mBAAgB;AAAA,WAAIA,eAAJ;AAAA,GAAjB;AAAqCC,wBAAqB;AAAA,WAAIA,oBAAJ;AAAA;AAA1D,CAAd;AAAmG,IAAIC,eAAJ;AAAWJ,OAAOK,UAAP,CAAkB,oBAAlB,EAAuC;AAACD,UAAO,UAASE,CAAT,EAAW;AAACF,aAAOE,CAAP;AAAS;AAA7B,CAAvC,EAAsE,CAAtE;;AAOvG,IAAMJ,kBAAkB;AAAA,SAC7BE,uEAGwCG,SAHxC,oBAD6B;AAAA,CAAxB;;AASA,IAAMJ,uBAAuB,UAACK,eAAD,EAAkBC,IAAlB;AAAA,SAClCL,+DAGiCM,KAAKC,SAAL,CAAeH,eAAf,CAHjC,kBAG4EC,IAH5E,oBADkC;AAAA,CAA7B","file":"/imports/api/conversations/server/apolloPubSubs.js.map","sourcesContent":["/*\n * we will use this to call graphql subscripton. After we replace methods with\n * mutations this temp mutations will be deleted\n*/\n\nimport { mutate } from '../../server/utils';\n\nexport const messageInserted = messageId =>\n  mutate(\n    `\n    mutation {\n      conversationMessageInserted(_id: \"${messageId}\")\n    }\n  `,\n  );\n\nexport const conversationsChanged = (conversationIds, type) =>\n  mutate(\n    `\n    mutation {\n      conversationsChanged(_ids: ${JSON.stringify(conversationIds)}, type: \"${type}\")\n    }\n  `,\n  );\n"]},"hash":"216e8ba679b73965dcd5f5b150f1480aea2e61ce"}
