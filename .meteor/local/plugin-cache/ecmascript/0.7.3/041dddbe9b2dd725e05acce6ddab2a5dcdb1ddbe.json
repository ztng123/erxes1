{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","PropTypes","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"PropTypes","local":"PropTypes"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-bootstrap","imported":["FormGroup","ControlLabel","Button"],"specifiers":[{"kind":"named","imported":"FormGroup","local":"FormGroup"},{"kind":"named","imported":"ControlLabel","local":"ControlLabel"},{"kind":"named","imported":"Button","local":"Button"}]},{"source":"react-select-plus","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Select"}]},{"source":"../constants","imported":["days","hours"],"specifiers":[{"kind":"named","imported":"days","local":"days"},{"kind":"named","imported":"hours","local":"hours"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/settings/integrations/components/OnlineHours.js","filenameRelative":"/imports/react-ui/settings/integrations/components/OnlineHours.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/settings/integrations/components/OnlineHours.js.map","sourceFileName":"/imports/react-ui/settings/integrations/components/OnlineHours.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"OnlineHours"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    PropTypes = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar FormGroup = void 0,\n    ControlLabel = void 0,\n    Button = void 0;\nmodule.importSync(\"react-bootstrap\", {\n  FormGroup: function (v) {\n    FormGroup = v;\n  },\n  ControlLabel: function (v) {\n    ControlLabel = v;\n  },\n  Button: function (v) {\n    Button = v;\n  }\n}, 1);\nvar Select = void 0;\nmodule.importSync(\"react-select-plus\", {\n  \"default\": function (v) {\n    Select = v;\n  }\n}, 2);\nvar days = void 0,\n    hours = void 0;\nmodule.importSync(\"../constants\", {\n  days: function (v) {\n    days = v;\n  },\n  hours: function (v) {\n    hours = v;\n  }\n}, 3);\n\nvar OnlineHours = function (_Component) {\n  (0, _inherits3.default)(OnlineHours, _Component);\n\n  function OnlineHours(props) {\n    (0, _classCallCheck3.default)(this, OnlineHours);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.state = {\n      onlineHours: props.prevOptions || []\n    };\n    _this.addTime = _this.addTime.bind(_this);\n    _this.removeTime = _this.removeTime.bind(_this);\n    return _this;\n  }\n\n  OnlineHours.prototype.onTimeItemChange = function () {\n    function onTimeItemChange(onlineHourId, name, value) {\n      var onlineHours = this.state.onlineHours; // find current editing one\n\n      var onlineHour = onlineHours.find(function (hour) {\n        return hour._id === onlineHourId;\n      }); // set new value\n\n      onlineHour[name] = value;\n      this.setState({\n        onlineHours: onlineHours\n      }); // notify as change to main component\n\n      this.props.onChange(onlineHours);\n    }\n\n    return onTimeItemChange;\n  }();\n\n  OnlineHours.prototype.addTime = function () {\n    function addTime() {\n      var onlineHours = this.state.onlineHours;\n      onlineHours.push({\n        _id: Math.random().toString(),\n        day: days[0].value,\n        from: hours[0].value,\n        to: hours[0].value\n      });\n      this.setState({\n        onlineHours: onlineHours\n      }); // notify as change to main component\n\n      this.props.onChange(onlineHours);\n    }\n\n    return addTime;\n  }();\n\n  OnlineHours.prototype.removeTime = function () {\n    function removeTime(onlineHourId) {\n      var onlineHours = this.state.onlineHours;\n      onlineHours = onlineHours.filter(function (hour) {\n        return hour._id !== onlineHourId;\n      });\n      this.setState({\n        onlineHours: onlineHours\n      }); // notify as change to main component\n\n      this.props.onChange(onlineHours);\n    }\n\n    return removeTime;\n  }();\n\n  OnlineHours.prototype.renderOnlineHour = function () {\n    function renderOnlineHour(onlineHour) {\n      var _this2 = this;\n\n      var remove = function () {\n        _this2.removeTime(onlineHour._id);\n      };\n\n      var onDayChange = function (e) {\n        _this2.onTimeItemChange(onlineHour._id, 'day', e.value);\n      };\n\n      var onFromChange = function (e) {\n        _this2.onTimeItemChange(onlineHour._id, 'from', e.value);\n      };\n\n      var onToChange = function (e) {\n        _this2.onTimeItemChange(onlineHour._id, 'to', e.value);\n      };\n\n      var _id = onlineHour._id,\n          day = onlineHour.day,\n          from = onlineHour.from,\n          to = onlineHour.to;\n      return React.createElement(\n        \"div\",\n        {\n          className: \"flex-row\",\n          key: _id\n        },\n        React.createElement(Select, {\n          className: \"flex-item\",\n          value: day,\n          options: days,\n          onChange: onDayChange,\n          clearable: false\n        }),\n        React.createElement(\n          \"span\",\n          null,\n          \"from\"\n        ),\n        React.createElement(Select, {\n          className: \"flex-item\",\n          onChange: onFromChange,\n          value: from,\n          options: hours,\n          clearable: false\n        }),\n        React.createElement(\n          \"span\",\n          null,\n          \"to\"\n        ),\n        React.createElement(Select, {\n          className: \"flex-item\",\n          onChange: onToChange,\n          value: to,\n          options: hours,\n          clearable: false\n        }),\n        React.createElement(\n          Button,\n          {\n            className: \"shrinked\",\n            bsStyle: \"link\",\n            onClick: remove\n          },\n          React.createElement(\"i\", {\n            className: \"ion-close-circled\"\n          })\n        )\n      );\n    }\n\n    return renderOnlineHour;\n  }();\n\n  OnlineHours.prototype.render = function () {\n    function render() {\n      var _this3 = this;\n\n      return React.createElement(\n        FormGroup,\n        null,\n        React.createElement(\n          ControlLabel,\n          null,\n          \"Online hours\"\n        ),\n        this.state.onlineHours.map(function (onlineHour) {\n          return _this3.renderOnlineHour(onlineHour);\n        }),\n        React.createElement(\n          \"div\",\n          null,\n          React.createElement(\n            Button,\n            {\n              className: \"shrinked\",\n              bsStyle: \"link\",\n              onClick: this.addTime\n            },\n            React.createElement(\"i\", {\n              className: \"ion-plus-circled\"\n            }),\n            \" Add another time\"\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return OnlineHours;\n}(Component);\n\nOnlineHours.propTypes = {\n  prevOptions: PropTypes.array,\n  // eslint-disable-line\n  onChange: PropTypes.func.isRequired\n};\nmodule.export(\"default\", exports.default = OnlineHours);","map":{"version":3,"sources":["/imports/react-ui/settings/integrations/components/OnlineHours.js"],"names":["React","PropTypes","Component","module","importSync","v","FormGroup","ControlLabel","Button","Select","days","hours","OnlineHours","props","state","onlineHours","prevOptions","addTime","bind","removeTime","onTimeItemChange","onlineHourId","name","value","onlineHour","find","hour","_id","setState","onChange","push","Math","random","toString","day","from","to","filter","renderOnlineHour","remove","onDayChange","e","onFromChange","onToChange","render","map","propTypes","array","func","isRequired","export","exports","default"],"mappings":"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","file":"/imports/react-ui/settings/integrations/components/OnlineHours.js.map","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport { FormGroup, ControlLabel, Button } from 'react-bootstrap';\nimport Select from 'react-select-plus';\nimport { days, hours } from '../constants';\n\nclass OnlineHours extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { onlineHours: props.prevOptions || [] };\n\n    this.addTime = this.addTime.bind(this);\n    this.removeTime = this.removeTime.bind(this);\n  }\n\n  onTimeItemChange(onlineHourId, name, value) {\n    const onlineHours = this.state.onlineHours;\n\n    // find current editing one\n    const onlineHour = onlineHours.find(hour => hour._id === onlineHourId);\n\n    // set new value\n    onlineHour[name] = value;\n\n    this.setState({ onlineHours });\n\n    // notify as change to main component\n    this.props.onChange(onlineHours);\n  }\n\n  addTime() {\n    const onlineHours = this.state.onlineHours;\n\n    onlineHours.push({\n      _id: Math.random().toString(),\n      day: days[0].value,\n      from: hours[0].value,\n      to: hours[0].value,\n    });\n\n    this.setState({ onlineHours });\n\n    // notify as change to main component\n    this.props.onChange(onlineHours);\n  }\n\n  removeTime(onlineHourId) {\n    let onlineHours = this.state.onlineHours;\n\n    onlineHours = onlineHours.filter(hour => hour._id !== onlineHourId);\n\n    this.setState({ onlineHours });\n\n    // notify as change to main component\n    this.props.onChange(onlineHours);\n  }\n\n  renderOnlineHour(onlineHour) {\n    const remove = () => {\n      this.removeTime(onlineHour._id);\n    };\n\n    const onDayChange = e => {\n      this.onTimeItemChange(onlineHour._id, 'day', e.value);\n    };\n\n    const onFromChange = e => {\n      this.onTimeItemChange(onlineHour._id, 'from', e.value);\n    };\n\n    const onToChange = e => {\n      this.onTimeItemChange(onlineHour._id, 'to', e.value);\n    };\n\n    const { _id, day, from, to } = onlineHour;\n    return (\n      <div className=\"flex-row\" key={_id}>\n        <Select\n          className=\"flex-item\"\n          value={day}\n          options={days}\n          onChange={onDayChange}\n          clearable={false}\n        />\n        <span>from</span>\n        <Select\n          className=\"flex-item\"\n          onChange={onFromChange}\n          value={from}\n          options={hours}\n          clearable={false}\n        />\n        <span>to</span>\n        <Select\n          className=\"flex-item\"\n          onChange={onToChange}\n          value={to}\n          options={hours}\n          clearable={false}\n        />\n\n        <Button className=\"shrinked\" bsStyle=\"link\" onClick={remove}>\n          <i className=\"ion-close-circled\" />\n        </Button>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FormGroup>\n        <ControlLabel>Online hours</ControlLabel>\n\n        {this.state.onlineHours.map(onlineHour => this.renderOnlineHour(onlineHour))}\n        <div>\n          <Button className=\"shrinked\" bsStyle=\"link\" onClick={this.addTime}>\n            <i className=\"ion-plus-circled\" /> Add another time\n          </Button>\n        </div>\n      </FormGroup>\n    );\n  }\n}\n\nOnlineHours.propTypes = {\n  prevOptions: PropTypes.array, // eslint-disable-line\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default OnlineHours;\n"]},"hash":"041dddbe9b2dd725e05acce6ddab2a5dcdb1ddbe"}
