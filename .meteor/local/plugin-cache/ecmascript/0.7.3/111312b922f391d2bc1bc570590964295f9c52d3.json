{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/tracker","imported":["Tracker"],"specifiers":[{"kind":"named","imported":"Tracker","local":"Tracker"}]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"/imports/react-ui/common","imported":["Loader","Spinner","Loading"],"specifiers":[{"kind":"named","imported":"Loader","local":"Loader"},{"kind":"named","imported":"Spinner","local":"Spinner"},{"kind":"named","imported":"Loading","local":"Loading"}]}],"exports":{"exported":["getTrackerLoader","reactiveMapper","composerOptions","spinner","loading"],"specifiers":[{"kind":"local","local":"getTrackerLoader","exported":"getTrackerLoader"},{"kind":"local","local":"reactiveMapper","exported":"reactiveMapper"},{"kind":"local","local":"composerOptions","exported":"composerOptions"},{"kind":"local","local":"spinner","exported":"spinner"},{"kind":"local","local":"loading","exported":"loading"}]}}},"options":{"filename":"/imports/react-ui/utils.js","filenameRelative":"/imports/react-ui/utils.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/utils.js.map","sourceFileName":"/imports/react-ui/utils.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"utils"},"ignored":false,"code":"module.export({\n  getTrackerLoader: function () {\n    return getTrackerLoader;\n  },\n  composerOptions: function () {\n    return composerOptions;\n  }\n});\nvar Tracker = void 0;\nmodule.importSync(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 0);\nvar React = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 1);\nvar Loader = void 0,\n    Spinner = void 0,\n    Loading = void 0;\nmodule.importSync(\"/imports/react-ui/common\", {\n  Loader: function (v) {\n    Loader = v;\n  },\n  Spinner: function (v) {\n    Spinner = v;\n  },\n  Loading: function (v) {\n    Loading = v;\n  }\n}, 2);\n\nfunction getTrackerLoader(reactiveMapper) {\n  return function (props, onData, env) {\n    var trackerCleanup = null;\n    var handler = Tracker.nonreactive(function () {\n      return Tracker.autorun(function () {\n        trackerCleanup = reactiveMapper(props, onData, env);\n      });\n    });\n    return function () {\n      if (typeof trackerCleanup === 'function') trackerCleanup();\n      return handler.stop();\n    };\n  };\n}\n\nfunction composerOptions(_ref) {\n  var spinner = _ref.spinner,\n      loading = _ref.loading;\n  var Component = Loader;\n\n  if (spinner) {\n    Component = Spinner;\n  }\n\n  if (loading) {\n    Component = Loading;\n  }\n\n  return {\n    loadingHandler: function () {\n      return React.createElement(Component, null);\n    }\n  };\n}","map":{"version":3,"sources":["/imports/react-ui/utils.js"],"names":["module","export","getTrackerLoader","composerOptions","Tracker","importSync","v","React","Loader","Spinner","Loading","reactiveMapper","props","onData","env","trackerCleanup","handler","nonreactive","autorun","stop","spinner","loading","Component","loadingHandler"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAACC,oBAAiB;AAAA,WAAIA,gBAAJ;AAAA,GAAlB;AAAuCC,mBAAgB;AAAA,WAAIA,eAAJ;AAAA;AAAvD,CAAd;AAA2F,IAAIC,gBAAJ;AAAYJ,OAAOK,UAAP,CAAkB,gBAAlB,EAAmC;AAACD,WAAQ,UAASE,CAAT,EAAW;AAACF,cAAQE,CAAR;AAAU;AAA/B,CAAnC,EAAoE,CAApE;AAAuE,IAAIC,cAAJ;AAAUP,OAAOK,UAAP,CAAkB,OAAlB,EAA0B;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACC,YAAMD,CAAN;AAAQ;AAA7B,CAA1B,EAAyD,CAAzD;AAA4D,IAAIE,eAAJ;AAAA,IAAWC,gBAAX;AAAA,IAAmBC,gBAAnB;AAA2BV,OAAOK,UAAP,CAAkB,0BAAlB,EAA6C;AAACG,UAAO,UAASF,CAAT,EAAW;AAACE,aAAOF,CAAP;AAAS,GAA7B;AAA8BG,WAAQ,UAASH,CAAT,EAAW;AAACG,cAAQH,CAAR;AAAU,GAA5D;AAA6DI,WAAQ,UAASJ,CAAT,EAAW;AAACI,cAAQJ,CAAR;AAAU;AAA3F,CAA7C,EAA0I,CAA1I;;AAIxQ,SAASJ,gBAAT,CAA0BS,cAA1B,EAA0C;AAC/C,SAAO,UAACC,KAAD,EAAQC,MAAR,EAAgBC,GAAhB,EAAwB;AAC7B,QAAIC,iBAAiB,IAArB;AACA,QAAMC,UAAUZ,QAAQa,WAAR,CAAoB;AAAA,aAClCb,QAAQc,OAAR,CAAgB,YAAM;AACpBH,yBAAiBJ,eAAeC,KAAf,EAAsBC,MAAtB,EAA8BC,GAA9B,CAAjB;AACD,OAFD,CADkC;AAAA,KAApB,CAAhB;AAMA,WAAO,YAAM;AACX,UAAI,OAAOC,cAAP,KAA0B,UAA9B,EAA0CA;AAC1C,aAAOC,QAAQG,IAAR,EAAP;AACD,KAHD;AAID,GAZD;AAaD;;AAEM,SAAShB,eAAT,OAA+C;AAAA,MAApBiB,OAAoB,QAApBA,OAAoB;AAAA,MAAXC,OAAW,QAAXA,OAAW;AACpD,MAAIC,YAAYd,MAAhB;;AAEA,MAAIY,OAAJ,EAAa;AACXE,gBAAYb,OAAZ;AACD;;AAED,MAAIY,OAAJ,EAAa;AACXC,gBAAYZ,OAAZ;AACD;;AAED,SAAO;AACLa,kBADK,cACY;AACf,aAAO,oBAAC,SAAD,OAAP;AACD;AAHI,GAAP;AAKD","file":"/imports/react-ui/utils.js.map","sourcesContent":["import { Tracker } from 'meteor/tracker';\nimport React from 'react';\nimport { Loader, Spinner, Loading } from '/imports/react-ui/common';\n\nexport function getTrackerLoader(reactiveMapper) {\n  return (props, onData, env) => {\n    let trackerCleanup = null;\n    const handler = Tracker.nonreactive(() =>\n      Tracker.autorun(() => {\n        trackerCleanup = reactiveMapper(props, onData, env);\n      }),\n    );\n\n    return () => {\n      if (typeof trackerCleanup === 'function') trackerCleanup();\n      return handler.stop();\n    };\n  };\n}\n\nexport function composerOptions({ spinner, loading }) {\n  let Component = Loader;\n\n  if (spinner) {\n    Component = Spinner;\n  }\n\n  if (loading) {\n    Component = Loading;\n  }\n\n  return {\n    loadingHandler() {\n      return <Component />;\n    },\n  };\n}\n"]},"hash":"111312b922f391d2bc1bc570590964295f9c52d3"}
