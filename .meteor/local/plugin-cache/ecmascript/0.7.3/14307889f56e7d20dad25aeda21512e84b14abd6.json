{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/kadira:flow-router","imported":["FlowRouter"],"specifiers":[{"kind":"named","imported":"FlowRouter","local":"FlowRouter"}]},{"source":"meteor/erxes-notifier","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Alert"}]},{"source":"/imports/react-ui/apollo-client","imported":["notify"],"specifiers":[{"kind":"named","imported":"notify","local":"notify"}]}],"exports":{"exported":["methodCallback"],"specifiers":[{"kind":"local","local":"methodCallback","exported":"methodCallback"}]}}},"options":{"filename":"/imports/react-ui/engage/utils.js","filenameRelative":"/imports/react-ui/engage/utils.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/engage/utils.js.map","sourceFileName":"/imports/react-ui/engage/utils.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"utils"},"ignored":false,"code":"module.export({\n  methodCallback: function () {\n    return methodCallback;\n  }\n});\nvar FlowRouter = void 0;\nmodule.importSync(\"meteor/kadira:flow-router\", {\n  FlowRouter: function (v) {\n    FlowRouter = v;\n  }\n}, 0);\nvar Alert = void 0;\nmodule.importSync(\"meteor/erxes-notifier\", {\n  \"default\": function (v) {\n    Alert = v;\n  }\n}, 1);\nvar notify = void 0;\nmodule.importSync(\"/imports/react-ui/apollo-client\", {\n  notify: function (v) {\n    notify = v;\n  }\n}, 2);\n\nvar methodCallback = function (error, response) {\n  if (error) {\n    return Alert.error(error.reason || error.message);\n  }\n\n  Alert.success('Form is successfully saved.'); // notify apollo server that new message arrived\n\n  if (response.method === 'messenger' && notify) {\n    notify();\n  }\n\n  FlowRouter.go('/engage');\n};","map":{"version":3,"sources":["/imports/react-ui/engage/utils.js"],"names":["module","export","methodCallback","FlowRouter","importSync","v","Alert","notify","error","response","reason","message","success","method","go"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAACC,kBAAe;AAAA,WAAIA,cAAJ;AAAA;AAAhB,CAAd;AAAmD,IAAIC,mBAAJ;AAAeH,OAAOI,UAAP,CAAkB,2BAAlB,EAA8C;AAACD,cAAW,UAASE,CAAT,EAAW;AAACF,iBAAWE,CAAX;AAAa;AAArC,CAA9C,EAAqF,CAArF;AAAwF,IAAIC,cAAJ;AAAUN,OAAOI,UAAP,CAAkB,uBAAlB,EAA0C;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACC,YAAMD,CAAN;AAAQ;AAA7B,CAA1C,EAAyE,CAAzE;AAA4E,IAAIE,eAAJ;AAAWP,OAAOI,UAAP,CAAkB,iCAAlB,EAAoD;AAACG,UAAO,UAASF,CAAT,EAAW;AAACE,aAAOF,CAAP;AAAS;AAA7B,CAApD,EAAmF,CAAnF;;AAIpP,IAAMH,iBAAiB,UAACM,KAAD,EAAQC,QAAR,EAAqB;AACjD,MAAID,KAAJ,EAAW;AACT,WAAOF,MAAME,KAAN,CAAYA,MAAME,MAAN,IAAgBF,MAAMG,OAAlC,CAAP;AACD;;AAEDL,QAAMM,OAAN,CAAc,6BAAd,EALiD,CAOjD;;AACA,MAAIH,SAASI,MAAT,KAAoB,WAApB,IAAmCN,MAAvC,EAA+C;AAC7CA;AACD;;AAEDJ,aAAWW,EAAX,CAAc,SAAd;AACD,CAbM","file":"/imports/react-ui/engage/utils.js.map","sourcesContent":["import { FlowRouter } from 'meteor/kadira:flow-router';\nimport Alert from 'meteor/erxes-notifier';\nimport { notify } from '/imports/react-ui/apollo-client';\n\nexport const methodCallback = (error, response) => {\n  if (error) {\n    return Alert.error(error.reason || error.message);\n  }\n\n  Alert.success('Form is successfully saved.');\n\n  // notify apollo server that new message arrived\n  if (response.method === 'messenger' && notify) {\n    notify();\n  }\n\n  FlowRouter.go('/engage');\n};\n"]},"hash":"14307889f56e7d20dad25aeda21512e84b14abd6"}
