{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"meteor/kadira:flow-router","imported":["FlowRouter"],"specifiers":[{"kind":"named","imported":"FlowRouter","local":"FlowRouter"}]},{"source":"/imports/react-ui/common","imported":["CountsByTag","EmptyState","LoadingSidebar"],"specifiers":[{"kind":"named","imported":"CountsByTag","local":"CountsByTag"},{"kind":"named","imported":"EmptyState","local":"EmptyState"},{"kind":"named","imported":"LoadingSidebar","local":"LoadingSidebar"}]},{"source":"/imports/react-ui/layout/components","imported":["Wrapper"],"specifiers":[{"kind":"named","imported":"Wrapper","local":"Wrapper"}]},{"source":"/imports/api/conversations/constants","imported":["CONVERSATION_STATUSES"],"specifiers":[{"kind":"named","imported":"CONVERSATION_STATUSES","local":"CONVERSATION_STATUSES"}]},{"source":"/imports/api/integrations/constants","imported":["KIND_CHOICES"],"specifiers":[{"kind":"named","imported":"KIND_CHOICES","local":"INTEGRATIONS_TYPES"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/inbox/components/list/Sidebar.js","filenameRelative":"/imports/react-ui/inbox/components/list/Sidebar.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/inbox/components/list/Sidebar.js.map","sourceFileName":"/imports/react-ui/inbox/components/list/Sidebar.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Sidebar"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.importSync(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar FlowRouter = void 0;\nmodule.importSync(\"meteor/kadira:flow-router\", {\n  FlowRouter: function (v) {\n    FlowRouter = v;\n  }\n}, 2);\nvar CountsByTag = void 0,\n    EmptyState = void 0,\n    LoadingSidebar = void 0;\nmodule.importSync(\"/imports/react-ui/common\", {\n  CountsByTag: function (v) {\n    CountsByTag = v;\n  },\n  EmptyState: function (v) {\n    EmptyState = v;\n  },\n  LoadingSidebar: function (v) {\n    LoadingSidebar = v;\n  }\n}, 3);\nvar Wrapper = void 0;\nmodule.importSync(\"/imports/react-ui/layout/components\", {\n  Wrapper: function (v) {\n    Wrapper = v;\n  }\n}, 4);\nvar CONVERSATION_STATUSES = void 0;\nmodule.importSync(\"/imports/api/conversations/constants\", {\n  CONVERSATION_STATUSES: function (v) {\n    CONVERSATION_STATUSES = v;\n  }\n}, 5);\nvar INTEGRATIONS_TYPES = void 0;\nmodule.importSync(\"/imports/api/integrations/constants\", {\n  KIND_CHOICES: function (v) {\n    INTEGRATIONS_TYPES = v;\n  }\n}, 6);\nvar propTypes = {\n  counts: PropTypes.object,\n  channels: PropTypes.array.isRequired,\n  brands: PropTypes.array.isRequired,\n  tags: PropTypes.array.isRequired,\n  channelsReady: PropTypes.bool,\n  brandsReady: PropTypes.bool,\n  tagsReady: PropTypes.bool\n};\n\nvar Sidebar = function (_Component) {\n  (0, _inherits3.default)(Sidebar, _Component);\n\n  function Sidebar() {\n    (0, _classCallCheck3.default)(this, Sidebar);\n    return (0, _possibleConstructorReturn3.default)(this, _Component.apply(this, arguments));\n  }\n\n  Sidebar.renderChannel = function () {\n    function renderChannel(channel, counts) {\n      var onClick = function () {\n        Wrapper.Sidebar.filter('channelId', channel._id);\n      };\n\n      return React.createElement(\n        \"li\",\n        {\n          key: channel._id\n        },\n        React.createElement(\n          \"a\",\n          {\n            className: Wrapper.Sidebar.getActiveClass('channelId', channel._id),\n            onClick: onClick\n          },\n          React.createElement(\n            \"span\",\n            {\n              className: \"icon\"\n            },\n            \"#\"\n          ),\n          channel.name,\n          React.createElement(\n            \"span\",\n            {\n              className: \"counter\"\n            },\n            counts[channel._id]\n          )\n        )\n      );\n    }\n\n    return renderChannel;\n  }();\n\n  Sidebar.renderBrand = function () {\n    function renderBrand(brand, counts) {\n      var onClick = function () {\n        Wrapper.Sidebar.filter('brandId', brand._id);\n      };\n\n      return React.createElement(\n        \"li\",\n        {\n          key: brand._id\n        },\n        React.createElement(\n          \"a\",\n          {\n            className: Wrapper.Sidebar.getActiveClass('brandId', brand._id),\n            onClick: onClick\n          },\n          React.createElement(\n            \"span\",\n            {\n              className: \"icon\"\n            },\n            \"#\"\n          ),\n          brand.name,\n          React.createElement(\n            \"span\",\n            {\n              className: \"counter\"\n            },\n            counts[brand._id]\n          )\n        )\n      );\n    }\n\n    return renderBrand;\n  }();\n\n  Sidebar.renderIntegration = function () {\n    function renderIntegration(integrationType, index, counts) {\n      var onClick = function () {\n        Wrapper.Sidebar.filter('integrationType', integrationType);\n      };\n\n      return React.createElement(\n        \"li\",\n        {\n          key: index\n        },\n        React.createElement(\n          \"a\",\n          {\n            className: Wrapper.Sidebar.getActiveClass('integrationType', integrationType),\n            onClick: onClick\n          },\n          React.createElement(\n            \"span\",\n            {\n              className: \"icon\"\n            },\n            \"#\"\n          ),\n          integrationType,\n          React.createElement(\n            \"span\",\n            {\n              className: \"counter\"\n            },\n            counts[integrationType]\n          )\n        )\n      );\n    }\n\n    return renderIntegration;\n  }();\n\n  Sidebar.renderTag = function () {\n    function renderTag(tag, counts) {\n      var onClick = function () {\n        Wrapper.Sidebar.filter('tagId', tag._id);\n      };\n\n      return React.createElement(\n        \"li\",\n        {\n          key: tag._id\n        },\n        React.createElement(\n          \"a\",\n          {\n            className: Wrapper.Sidebar.getActiveClass('tagId', tag._id),\n            onClick: onClick\n          },\n          React.createElement(\"i\", {\n            className: \"ion-pricetag icon\",\n            style: {\n              color: tag.colorCode\n            }\n          }),\n          tag.name,\n          React.createElement(\n            \"span\",\n            {\n              className: \"counter\"\n            },\n            counts[tag._id]\n          )\n        )\n      );\n    }\n\n    return renderTag;\n  }();\n\n  Sidebar.clearStatusFilter = function () {\n    function clearStatusFilter() {\n      Wrapper.Sidebar.filter('participating', '');\n      Wrapper.Sidebar.filter('status', '');\n      Wrapper.Sidebar.filter('unassigned', '');\n      Wrapper.Sidebar.filter('starred', '');\n    }\n\n    return clearStatusFilter;\n  }(); // unassigned, participatedUser, status, etc ...\n\n\n  Sidebar.renderSingleFilter = function () {\n    function renderSingleFilter(queryParamName, queryParamValue, countName, text, count) {\n      var onClick = function () {\n        // clear previous values\n        Sidebar.clearStatusFilter();\n        Wrapper.Sidebar.filter(queryParamName, queryParamValue);\n      };\n\n      return React.createElement(\n        \"li\",\n        null,\n        React.createElement(\n          \"a\",\n          {\n            className: Wrapper.Sidebar.getActiveClass(queryParamName, queryParamValue),\n            onClick: onClick\n          },\n          text,\n          React.createElement(\n            \"span\",\n            {\n              className: \"counter\"\n            },\n            count\n          )\n        )\n      );\n    }\n\n    return renderSingleFilter;\n  }();\n\n  Sidebar.renderSectionHeader = function () {\n    function renderSectionHeader(queryParamName, buttonLink) {\n      var onClick = function () {\n        Wrapper.Sidebar.filter(queryParamName, '');\n      };\n\n      return React.createElement(\n        Wrapper.Sidebar.Section.QuickButtons,\n        null,\n        React.createElement(\n          \"a\",\n          {\n            href: buttonLink,\n            className: \"quick-button\"\n          },\n          React.createElement(\"i\", {\n            className: \"ion-gear-a\"\n          })\n        ),\n        FlowRouter.getQueryParam(queryParamName) ? React.createElement(\n          \"a\",\n          {\n            href: \"\",\n            className: \"quick-button\",\n            onClick: onClick\n          },\n          React.createElement(\"i\", {\n            className: \"ion-close-circled\"\n          })\n        ) : null\n      );\n    }\n\n    return renderSectionHeader;\n  }();\n\n  Sidebar.renderFilterSectionHeader = function () {\n    function renderFilterSectionHeader() {\n      return React.createElement(\n        Wrapper.Sidebar.Section.QuickButtons,\n        null,\n        FlowRouter.getQueryParam('participating') || FlowRouter.getQueryParam('unassigned') || FlowRouter.getQueryParam('status') || FlowRouter.getQueryParam('starred') ? React.createElement(\n          \"a\",\n          {\n            href: \"\",\n            className: \"quick-button\",\n            onClick: Sidebar.clearStatusFilter\n          },\n          React.createElement(\"i\", {\n            className: \"ion-close-circled\"\n          })\n        ) : null\n      );\n    }\n\n    return renderFilterSectionHeader;\n  }();\n\n  Sidebar.renderEmptyState = function () {\n    function renderEmptyState(list, text, iconClassName, isReady) {\n      if (list.length === 0 && isReady) {\n        return React.createElement(EmptyState, {\n          icon: React.createElement(\"i\", {\n            className: iconClassName\n          }),\n          text: text,\n          size: \"small\"\n        });\n      }\n\n      if (list.length === 0 && !isReady) {\n        return React.createElement(LoadingSidebar.Lines, null);\n      }\n\n      return null;\n    }\n\n    return renderEmptyState;\n  }();\n\n  Sidebar.prototype.render = function () {\n    function render() {\n      var _props = this.props,\n          channels = _props.channels,\n          tags = _props.tags,\n          brands = _props.brands,\n          counts = _props.counts,\n          channelsReady = _props.channelsReady,\n          brandsReady = _props.brandsReady;\n      var integrationTypes = INTEGRATIONS_TYPES.ALL_LIST;\n      var Title = Wrapper.Sidebar.Section.Title;\n      var manageBrands = FlowRouter.path('settings/brands/list');\n      var manageChannels = FlowRouter.path('settings/channels/list');\n      var manageIntegrations = FlowRouter.path('settings/integrations/list');\n      return React.createElement(\n        Wrapper.Sidebar,\n        null,\n        React.createElement(\n          Wrapper.Sidebar.Section,\n          {\n            collapsible: channels.length > 5\n          },\n          React.createElement(\n            Title,\n            null,\n            \"Channels\"\n          ),\n          Sidebar.renderSectionHeader('channelId', manageChannels),\n          React.createElement(\n            \"ul\",\n            {\n              className: \"sidebar-list\"\n            },\n            channels.map(function (channel) {\n              return Sidebar.renderChannel(channel, counts.byChannels);\n            }),\n            Sidebar.renderEmptyState(channels, 'No channel', 'ion-pound', channelsReady)\n          )\n        ),\n        React.createElement(\n          Wrapper.Sidebar.Section,\n          {\n            collapsible: brands.length > 5\n          },\n          React.createElement(\n            Title,\n            null,\n            \"Brands\"\n          ),\n          Sidebar.renderSectionHeader('brandId', manageBrands),\n          React.createElement(\n            \"ul\",\n            {\n              className: \"sidebar-list\"\n            },\n            brands.map(function (brand) {\n              return Sidebar.renderBrand(brand, counts.byBrands);\n            }),\n            Sidebar.renderEmptyState(brands, 'No brand', 'ion-flag', brandsReady)\n          )\n        ),\n        React.createElement(\n          Wrapper.Sidebar.Section,\n          {\n            collapsible: integrationTypes.length > 5\n          },\n          React.createElement(\n            Title,\n            null,\n            \"Integrations\"\n          ),\n          Sidebar.renderSectionHeader('integrationType', manageIntegrations),\n          React.createElement(\n            \"ul\",\n            {\n              className: \"sidebar-list\"\n            },\n            integrationTypes.map(function (t, i) {\n              return Sidebar.renderIntegration(t, i, counts.byIntegrationTypes);\n            }),\n            Sidebar.renderEmptyState(integrationTypes, 'No integration', 'ion-flag')\n          )\n        ),\n        React.createElement(\n          Wrapper.Sidebar.Section,\n          null,\n          React.createElement(\n            Title,\n            null,\n            \"Filter by status\"\n          ),\n          Sidebar.renderFilterSectionHeader(),\n          React.createElement(\n            \"ul\",\n            {\n              className: \"sidebar-list\"\n            },\n            Sidebar.renderSingleFilter('unassigned', 'true', 'unassiged', 'Unassigned', counts.unassigned),\n            Sidebar.renderSingleFilter('participating', 'true', 'participating', 'Participating', counts.participating),\n            Sidebar.renderSingleFilter('status', CONVERSATION_STATUSES.CLOSED, 'resolved', 'Resolved', counts.resolved),\n            Sidebar.renderSingleFilter('starred', 'true', 'starred', 'Starred', counts.starred)\n          )\n        ),\n        React.createElement(CountsByTag, {\n          tags: tags,\n          counts: counts.byTags,\n          manageUrl: \"tags/conversation\"\n        })\n      );\n    }\n\n    return render;\n  }();\n\n  return Sidebar;\n}(Component);\n\nSidebar.propTypes = propTypes;\nmodule.export(\"default\", exports.default = Sidebar);","map":{"version":3,"sources":["/imports/react-ui/inbox/components/list/Sidebar.js"],"names":["React","Component","module","importSync","v","PropTypes","FlowRouter","CountsByTag","EmptyState","LoadingSidebar","Wrapper","CONVERSATION_STATUSES","INTEGRATIONS_TYPES","KIND_CHOICES","propTypes","counts","object","channels","array","isRequired","brands","tags","channelsReady","bool","brandsReady","tagsReady","Sidebar","renderChannel","channel","onClick","filter","_id","getActiveClass","name","renderBrand","brand","renderIntegration","integrationType","index","renderTag","tag","color","colorCode","clearStatusFilter","renderSingleFilter","queryParamName","queryParamValue","countName","text","count","renderSectionHeader","buttonLink","getQueryParam","renderFilterSectionHeader","renderEmptyState","list","iconClassName","isReady","length","render","props","integrationTypes","ALL_LIST","Title","Section","manageBrands","path","manageChannels","manageIntegrations","map","byChannels","byBrands","t","i","byIntegrationTypes","unassigned","participating","CLOSED","resolved","starred","byTags","export","exports","default"],"mappings":"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","file":"/imports/react-ui/inbox/components/list/Sidebar.js.map","sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/href-no-hash */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FlowRouter } from 'meteor/kadira:flow-router';\nimport { CountsByTag, EmptyState, LoadingSidebar } from '/imports/react-ui/common';\nimport { Wrapper } from '/imports/react-ui/layout/components';\nimport { CONVERSATION_STATUSES } from '/imports/api/conversations/constants';\nimport { KIND_CHOICES as INTEGRATIONS_TYPES } from '/imports/api/integrations/constants';\n\nconst propTypes = {\n  counts: PropTypes.object,\n  channels: PropTypes.array.isRequired,\n  brands: PropTypes.array.isRequired,\n  tags: PropTypes.array.isRequired,\n  channelsReady: PropTypes.bool,\n  brandsReady: PropTypes.bool,\n  tagsReady: PropTypes.bool,\n};\n\nclass Sidebar extends Component {\n  static renderChannel(channel, counts) {\n    const onClick = () => {\n      Wrapper.Sidebar.filter('channelId', channel._id);\n    };\n\n    return (\n      <li key={channel._id}>\n        <a className={Wrapper.Sidebar.getActiveClass('channelId', channel._id)} onClick={onClick}>\n          <span className=\"icon\">#</span>\n          {channel.name}\n          <span className=\"counter\">\n            {counts[channel._id]}\n          </span>\n        </a>\n      </li>\n    );\n  }\n\n  static renderBrand(brand, counts) {\n    const onClick = () => {\n      Wrapper.Sidebar.filter('brandId', brand._id);\n    };\n\n    return (\n      <li key={brand._id}>\n        <a className={Wrapper.Sidebar.getActiveClass('brandId', brand._id)} onClick={onClick}>\n          <span className=\"icon\">#</span>\n          {brand.name}\n          <span className=\"counter\">\n            {counts[brand._id]}\n          </span>\n        </a>\n      </li>\n    );\n  }\n\n  static renderIntegration(integrationType, index, counts) {\n    const onClick = () => {\n      Wrapper.Sidebar.filter('integrationType', integrationType);\n    };\n\n    return (\n      <li key={index}>\n        <a\n          className={Wrapper.Sidebar.getActiveClass('integrationType', integrationType)}\n          onClick={onClick}\n        >\n          <span className=\"icon\">#</span>\n          {integrationType}\n          <span className=\"counter\">\n            {counts[integrationType]}\n          </span>\n        </a>\n      </li>\n    );\n  }\n\n  static renderTag(tag, counts) {\n    const onClick = () => {\n      Wrapper.Sidebar.filter('tagId', tag._id);\n    };\n\n    return (\n      <li key={tag._id}>\n        <a className={Wrapper.Sidebar.getActiveClass('tagId', tag._id)} onClick={onClick}>\n          <i className=\"ion-pricetag icon\" style={{ color: tag.colorCode }} />\n          {tag.name}\n          <span className=\"counter\">\n            {counts[tag._id]}\n          </span>\n        </a>\n      </li>\n    );\n  }\n\n  static clearStatusFilter() {\n    Wrapper.Sidebar.filter('participating', '');\n    Wrapper.Sidebar.filter('status', '');\n    Wrapper.Sidebar.filter('unassigned', '');\n    Wrapper.Sidebar.filter('starred', '');\n  }\n\n  // unassigned, participatedUser, status, etc ...\n  static renderSingleFilter(queryParamName, queryParamValue, countName, text, count) {\n    const onClick = () => {\n      // clear previous values\n      Sidebar.clearStatusFilter();\n\n      Wrapper.Sidebar.filter(queryParamName, queryParamValue);\n    };\n\n    return (\n      <li>\n        <a\n          className={Wrapper.Sidebar.getActiveClass(queryParamName, queryParamValue)}\n          onClick={onClick}\n        >\n          {text}\n          <span className=\"counter\">\n            {count}\n          </span>\n        </a>\n      </li>\n    );\n  }\n\n  static renderSectionHeader(queryParamName, buttonLink) {\n    const onClick = () => {\n      Wrapper.Sidebar.filter(queryParamName, '');\n    };\n\n    return (\n      <Wrapper.Sidebar.Section.QuickButtons>\n        <a href={buttonLink} className=\"quick-button\">\n          <i className=\"ion-gear-a\" />\n        </a>\n        {FlowRouter.getQueryParam(queryParamName)\n          ? <a href=\"\" className=\"quick-button\" onClick={onClick}>\n              <i className=\"ion-close-circled\" />\n            </a>\n          : null}\n      </Wrapper.Sidebar.Section.QuickButtons>\n    );\n  }\n\n  static renderFilterSectionHeader() {\n    return (\n      <Wrapper.Sidebar.Section.QuickButtons>\n        {FlowRouter.getQueryParam('participating') ||\n          FlowRouter.getQueryParam('unassigned') ||\n          FlowRouter.getQueryParam('status') ||\n          FlowRouter.getQueryParam('starred')\n          ? <a href=\"\" className=\"quick-button\" onClick={Sidebar.clearStatusFilter}>\n              <i className=\"ion-close-circled\" />\n            </a>\n          : null}\n      </Wrapper.Sidebar.Section.QuickButtons>\n    );\n  }\n\n  static renderEmptyState(list, text, iconClassName, isReady) {\n    if (list.length === 0 && isReady) {\n      return <EmptyState icon={<i className={iconClassName} />} text={text} size=\"small\" />;\n    }\n\n    if (list.length === 0 && !isReady) {\n      return <LoadingSidebar.Lines />;\n    }\n\n    return null;\n  }\n\n  render() {\n    const { channels, tags, brands, counts, channelsReady, brandsReady } = this.props;\n    const integrationTypes = INTEGRATIONS_TYPES.ALL_LIST;\n    const { Title } = Wrapper.Sidebar.Section;\n    const manageBrands = FlowRouter.path('settings/brands/list');\n    const manageChannels = FlowRouter.path('settings/channels/list');\n    const manageIntegrations = FlowRouter.path('settings/integrations/list');\n\n    return (\n      <Wrapper.Sidebar>\n        <Wrapper.Sidebar.Section collapsible={channels.length > 5}>\n          <Title>Channels</Title>\n          {Sidebar.renderSectionHeader('channelId', manageChannels)}\n          <ul className=\"sidebar-list\">\n            {channels.map(channel => Sidebar.renderChannel(channel, counts.byChannels))}\n            {Sidebar.renderEmptyState(channels, 'No channel', 'ion-pound', channelsReady)}\n          </ul>\n        </Wrapper.Sidebar.Section>\n\n        <Wrapper.Sidebar.Section collapsible={brands.length > 5}>\n          <Title>Brands</Title>\n          {Sidebar.renderSectionHeader('brandId', manageBrands)}\n          <ul className=\"sidebar-list\">\n            {brands.map(brand => Sidebar.renderBrand(brand, counts.byBrands))}\n            {Sidebar.renderEmptyState(brands, 'No brand', 'ion-flag', brandsReady)}\n          </ul>\n        </Wrapper.Sidebar.Section>\n\n        <Wrapper.Sidebar.Section collapsible={integrationTypes.length > 5}>\n          <Title>Integrations</Title>\n          {Sidebar.renderSectionHeader('integrationType', manageIntegrations)}\n\n          <ul className=\"sidebar-list\">\n            {integrationTypes.map((t, i) =>\n              Sidebar.renderIntegration(t, i, counts.byIntegrationTypes),\n            )}\n            {Sidebar.renderEmptyState(integrationTypes, 'No integration', 'ion-flag')}\n          </ul>\n        </Wrapper.Sidebar.Section>\n\n        <Wrapper.Sidebar.Section>\n          <Title>Filter by status</Title>\n          {Sidebar.renderFilterSectionHeader()}\n          <ul className=\"sidebar-list\">\n            {Sidebar.renderSingleFilter(\n              'unassigned',\n              'true',\n              'unassiged',\n              'Unassigned',\n              counts.unassigned,\n            )}\n            {Sidebar.renderSingleFilter(\n              'participating',\n              'true',\n              'participating',\n              'Participating',\n              counts.participating,\n            )}\n\n            {Sidebar.renderSingleFilter(\n              'status',\n              CONVERSATION_STATUSES.CLOSED,\n              'resolved',\n              'Resolved',\n              counts.resolved,\n            )}\n\n            {Sidebar.renderSingleFilter('starred', 'true', 'starred', 'Starred', counts.starred)}\n          </ul>\n        </Wrapper.Sidebar.Section>\n\n        <CountsByTag tags={tags} counts={counts.byTags} manageUrl=\"tags/conversation\" />\n      </Wrapper.Sidebar>\n    );\n  }\n}\n\nSidebar.propTypes = propTypes;\n\nexport default Sidebar;\n"]},"hash":"ec0b6e7a430cfdb31057ca25d02a5f2f8085023b"}
