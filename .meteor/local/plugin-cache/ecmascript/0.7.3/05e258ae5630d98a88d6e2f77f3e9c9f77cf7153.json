{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","PropTypes","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"PropTypes","local":"PropTypes"},{"kind":"named","imported":"Component","local":"Component"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/common/nameCard/Avatar.js","filenameRelative":"/imports/react-ui/common/nameCard/Avatar.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/common/nameCard/Avatar.js.map","sourceFileName":"/imports/react-ui/common/nameCard/Avatar.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Avatar"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    PropTypes = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar propTypes = {\n  user: PropTypes.object,\n  customer: PropTypes.object,\n  size: PropTypes.number,\n  url: PropTypes.string\n};\n\nvar Avatar = function (_Component) {\n  (0, _inherits3.default)(Avatar, _Component);\n\n  function Avatar() {\n    (0, _classCallCheck3.default)(this, Avatar);\n    return (0, _possibleConstructorReturn3.default)(this, _Component.apply(this, arguments));\n  }\n\n  Avatar.prototype.generateStyle = function () {\n    function generateStyle() {\n      var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 40;\n      return {\n        width: size,\n        height: size,\n        lineHeight: size + \"px\",\n        borderRadius: size + \"px\",\n        fontSize: size / 3 + \"px\"\n      };\n    }\n\n    return generateStyle;\n  }();\n\n  Avatar.prototype.renderImage = function () {\n    function renderImage(src, alt) {\n      var size = this.props.size;\n      return React.createElement(\"img\", {\n        src: src,\n        alt: alt,\n        style: this.generateStyle(size)\n      });\n    }\n\n    return renderImage;\n  }();\n\n  Avatar.prototype.renderInitials = function () {\n    function renderInitials(fullName) {\n      var size = this.props.size;\n      var initials = fullName ? fullName.split(' ').map(function (s) {\n        return s.charAt(0);\n      }).join('.').toUpperCase() : React.createElement(\"div\", {\n        className: \"no-user\",\n        style: this.generateStyle(size)\n      });\n      return React.createElement(\n        \"div\",\n        {\n          style: this.generateStyle(size)\n        },\n        initials\n      );\n    }\n\n    return renderInitials;\n  }();\n\n  Avatar.prototype.render = function () {\n    function render() {\n      var _props = this.props,\n          user = _props.user,\n          customer = _props.customer,\n          url = _props.url;\n      var avatar = void 0;\n      var fullName = void 0;\n\n      if (user) {\n        var details = user.details;\n        avatar = details && details.avatar;\n        fullName = details && details.fullName;\n      } else if (customer) {\n        avatar = customer.avatar;\n        fullName = customer.name;\n      }\n\n      return (// TODO: jump to user profile\n        React.createElement(\n          \"a\",\n          {\n            href: \"#\",\n            className: \"avatar\"\n          },\n          avatar ? this.renderImage(avatar, fullName) : this.renderInitials(fullName)\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return Avatar;\n}(Component);\n\nAvatar.propTypes = propTypes;\nmodule.export(\"default\", exports.default = Avatar);","map":{"version":3,"sources":["/imports/react-ui/common/nameCard/Avatar.js"],"names":["React","PropTypes","Component","module","importSync","v","propTypes","user","object","customer","size","number","url","string","Avatar","generateStyle","width","height","lineHeight","borderRadius","fontSize","renderImage","src","alt","props","renderInitials","fullName","initials","split","map","s","charAt","join","toUpperCase","render","avatar","details","name","export","exports","default"],"mappings":";;;;;;;;;;;;;;AAAA,IAAIA,cAAJ;AAAA,IAAUC,kBAAV;AAAA,IAAoBC,kBAApB;AAA8BC,OAAOC,UAAP,CAAkB,OAAlB,EAA0B;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACL,YAAMK,CAAN;AAAQ,GAA7B;AAA8BJ,aAAU,UAASI,CAAT,EAAW;AAACJ,gBAAUI,CAAV;AAAY,GAAhE;AAAiEH,aAAU,UAASG,CAAT,EAAW;AAACH,gBAAUG,CAAV;AAAY;AAAnG,CAA1B,EAA+H,CAA/H;AAE9B,IAAMC,YAAY;AAChBC,QAAMN,UAAUO,MADA;AAEhBC,YAAUR,UAAUO,MAFJ;AAGhBE,QAAMT,UAAUU,MAHA;AAIhBC,OAAKX,UAAUY;AAJC,CAAlB;;IAOMC,M;;;;;;;;mBACJC,a;6BAAyB;AAAA,UAAXL,IAAW,uEAAJ,EAAI;AACvB,aAAO;AACLM,eAAON,IADF;AAELO,gBAAQP,IAFH;AAGLQ,oBAAeR,IAAf,OAHK;AAILS,sBAAiBT,IAAjB,OAJK;AAKLU,kBAAaV,OAAO,CAApB;AALK,OAAP;AAOD;;;;;mBAEDW,W;yBAAYC,G,EAAKC,G,EAAK;AAAA,UACZb,IADY,GACH,KAAKc,KADF,CACZd,IADY;AAEpB,aAAO;AAAK,aAAKY,GAAV;AAAe,aAAKC,GAApB;AAAyB,eAAO,KAAKR,aAAL,CAAmBL,IAAnB;AAAhC,QAAP;AACD;;;;;mBAEDe,c;4BAAeC,Q,EAAU;AAAA,UACfhB,IADe,GACN,KAAKc,KADC,CACfd,IADe;AAEvB,UAAMiB,WAAWD,WACbA,SAASE,KAAT,CAAe,GAAf,EAAoBC,GAApB,CAAwB;AAAA,eAAKC,EAAEC,MAAF,CAAS,CAAT,CAAL;AAAA,OAAxB,EAA0CC,IAA1C,CAA+C,GAA/C,EAAoDC,WAApD,EADa,GAEb;AAAK,mBAAU,SAAf;AAAyB,eAAO,KAAKlB,aAAL,CAAmBL,IAAnB;AAAhC,QAFJ;AAIA,aACE;AAAA;AAAA;AAAK,iBAAO,KAAKK,aAAL,CAAmBL,IAAnB;AAAZ;AACGiB;AADH,OADF;AAKD;;;;;mBAEDO,M;sBAAS;AAAA,mBACyB,KAAKV,KAD9B;AAAA,UACCjB,IADD,UACCA,IADD;AAAA,UACOE,QADP,UACOA,QADP;AAAA,UACiBG,GADjB,UACiBA,GADjB;AAEP,UAAIuB,eAAJ;AACA,UAAIT,iBAAJ;;AAEA,UAAInB,IAAJ,EAAU;AAAA,YACA6B,OADA,GACY7B,IADZ,CACA6B,OADA;AAERD,iBAASC,WAAWA,QAAQD,MAA5B;AACAT,mBAAWU,WAAWA,QAAQV,QAA9B;AACD,OAJD,MAIO,IAAIjB,QAAJ,EAAc;AACnB0B,iBAAS1B,SAAS0B,MAAlB;AACAT,mBAAWjB,SAAS4B,IAApB;AACD;;AAED,aACE;AAEE;AAAA;AAAA;AAAG,kBAAK,GAAR;AAAY,uBAAU;AAAtB;AACGF,mBAAS,KAAKd,WAAL,CAAiBc,MAAjB,EAAyBT,QAAzB,CAAT,GAA8C,KAAKD,cAAL,CAAoBC,QAApB;AADjD;AAHJ;AAQD;;;;;;EAnDkBxB,S;;AAsDrBY,OAAOR,SAAP,GAAmBA,SAAnB;AA/DAH,OAAOmC,MAAP,CAAc,SAAd,EAAwBC,QAAQC,OAAR,GAiET1B,MAjEf","file":"/imports/react-ui/common/nameCard/Avatar.js.map","sourcesContent":["import React, { PropTypes, Component } from 'react';\n\nconst propTypes = {\n  user: PropTypes.object,\n  customer: PropTypes.object,\n  size: PropTypes.number,\n  url: PropTypes.string,\n};\n\nclass Avatar extends Component {\n  generateStyle(size = 40) {\n    return {\n      width: size,\n      height: size,\n      lineHeight: `${size}px`,\n      borderRadius: `${size}px`,\n      fontSize: `${size / 3}px`,\n    };\n  }\n\n  renderImage(src, alt) {\n    const { size } = this.props;\n    return <img src={src} alt={alt} style={this.generateStyle(size)} />;\n  }\n\n  renderInitials(fullName) {\n    const { size } = this.props;\n    const initials = fullName\n      ? fullName.split(' ').map(s => s.charAt(0)).join('.').toUpperCase()\n      : <div className=\"no-user\" style={this.generateStyle(size)} />;\n\n    return (\n      <div style={this.generateStyle(size)}>\n        {initials}\n      </div>\n    );\n  }\n\n  render() {\n    const { user, customer, url } = this.props;\n    let avatar;\n    let fullName;\n\n    if (user) {\n      const { details } = user;\n      avatar = details && details.avatar;\n      fullName = details && details.fullName;\n    } else if (customer) {\n      avatar = customer.avatar;\n      fullName = customer.name;\n    }\n\n    return (\n      // TODO: jump to user profile\n      (\n        <a href=\"#\" className=\"avatar\">\n          {avatar ? this.renderImage(avatar, fullName) : this.renderInitials(fullName)}\n        </a>\n      )\n    );\n  }\n}\n\nAvatar.propTypes = propTypes;\n\nexport default Avatar;\n"]},"hash":"05e258ae5630d98a88d6e2f77f3e9c9f77cf7153"}
