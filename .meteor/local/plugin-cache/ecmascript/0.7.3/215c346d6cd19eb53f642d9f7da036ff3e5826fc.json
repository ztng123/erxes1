{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","PropTypes","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"PropTypes","local":"PropTypes"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"./Filter","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Filter"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/common/filterableList/FilterableList.js","filenameRelative":"/imports/react-ui/common/filterableList/FilterableList.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/common/filterableList/FilterableList.js.map","sourceFileName":"/imports/react-ui/common/filterableList/FilterableList.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"FilterableList"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    PropTypes = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar Filter = void 0;\nmodule.importSync(\"./Filter\", {\n  \"default\": function (v) {\n    Filter = v;\n  }\n}, 1);\nvar propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    iconClass: PropTypes.string,\n    iconColor: PropTypes.string,\n    selectedBy: PropTypes.string.isRequired\n  })).isRequired,\n  links: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    link: PropTypes.element,\n    onClick: PropTypes.func\n  })),\n  showCheckmark: PropTypes.bool,\n  className: PropTypes.string,\n  // hooks\n  onClick: PropTypes.func,\n  onExit: PropTypes.func\n};\n\nvar FilterableList = function (_Component) {\n  (0, _inherits3.default)(FilterableList, _Component);\n\n  function FilterableList(props) {\n    (0, _classCallCheck3.default)(this, FilterableList);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.state = {\n      key: '',\n      items: props.items\n    };\n    _this.filterItems = _this.filterItems.bind(_this);\n    _this.toggleItem = _this.toggleItem.bind(_this);\n    return _this;\n  }\n\n  FilterableList.prototype.componentWillUnmount = function () {\n    function componentWillUnmount() {\n      // onExit hook\n      var onExit = this.props.onExit;\n      if (onExit) onExit(this.state.items);\n    }\n\n    return componentWillUnmount;\n  }();\n\n  FilterableList.prototype.filterItems = function () {\n    function filterItems(e) {\n      this.setState({\n        key: e.target.value\n      });\n    }\n\n    return filterItems;\n  }();\n\n  FilterableList.prototype.toggleItem = function () {\n    function toggleItem(id) {\n      var items = this.state.items;\n      var item = items.find(function (i) {\n        return i._id === id;\n      });\n      items[items.indexOf(item)].selectedBy = item.selectedBy === 'all' ? 'none' : 'all';\n      this.setState({\n        items: items\n      }); // onClick hook\n\n      var onClick = this.props.onClick;\n      if (onClick) onClick(items, id);\n    }\n\n    return toggleItem;\n  }();\n\n  FilterableList.prototype.renderItems = function () {\n    function renderItems() {\n      var _this2 = this;\n\n      var _props = this.props,\n          items = _props.items,\n          _props$showCheckmark = _props.showCheckmark,\n          showCheckmark = _props$showCheckmark === undefined ? true : _props$showCheckmark;\n      var key = this.state.key;\n      return items.map(function (item) {\n        // filter items by key\n        if (key && item.title.toLowerCase().indexOf(key) < 0) {\n          return false;\n        }\n\n        return React.createElement(\n          \"li\",\n          {\n            key: item._id,\n            className: showCheckmark ? item.selectedBy : '',\n            onClick: function () {\n              _this2.toggleItem(item._id);\n            }\n          },\n          item.iconClass ? React.createElement(\"i\", {\n            className: \"icon \" + item.iconClass,\n            style: {\n              color: item.iconColor\n            }\n          }) : null,\n          ' ',\n          item.title || '[undefined]'\n        );\n      });\n    }\n\n    return renderItems;\n  }();\n\n  FilterableList.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"div\",\n        {\n          className: this.props.className\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"popover-header\"\n          },\n          React.createElement(Filter, {\n            onChange: this.filterItems\n          })\n        ),\n        React.createElement(\n          \"div\",\n          {\n            className: \"popover-body\"\n          },\n          React.createElement(\n            \"ul\",\n            {\n              className: \"popover-list selectable\"\n            },\n            this.renderItems()\n          )\n        ),\n        React.createElement(\n          \"div\",\n          {\n            className: \"popover-footer\"\n          },\n          React.createElement(\n            \"ul\",\n            {\n              className: \"popover-list linked\"\n            },\n            this.props.links && this.props.links.map(function (link) {\n              return React.createElement(\n                \"li\",\n                {\n                  key: link.href\n                },\n                React.createElement(\n                  \"a\",\n                  {\n                    onClick: link.onClick,\n                    href: link.href\n                  },\n                  link.title\n                )\n              );\n            })\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return FilterableList;\n}(Component);\n\nFilterableList.propTypes = propTypes;\nmodule.export(\"default\", exports.default = FilterableList);","map":{"version":3,"sources":["/imports/react-ui/common/filterableList/FilterableList.js"],"names":["React","PropTypes","Component","module","importSync","v","Filter","propTypes","items","arrayOf","shape","_id","string","isRequired","title","iconClass","iconColor","selectedBy","links","link","element","onClick","func","showCheckmark","bool","className","onExit","FilterableList","props","state","key","filterItems","bind","toggleItem","componentWillUnmount","e","setState","target","value","id","item","find","i","indexOf","renderItems","map","toLowerCase","color","render","href","export","exports","default"],"mappings":"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","file":"/imports/react-ui/common/filterableList/FilterableList.js.map","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport Filter from './Filter';\n\nconst propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      _id: PropTypes.string.isRequired,\n      title: PropTypes.string,\n      iconClass: PropTypes.string,\n      iconColor: PropTypes.string,\n      selectedBy: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  links: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      link: PropTypes.element,\n      onClick: PropTypes.func,\n    }),\n  ),\n  showCheckmark: PropTypes.bool,\n  className: PropTypes.string,\n\n  // hooks\n  onClick: PropTypes.func,\n  onExit: PropTypes.func,\n};\n\nclass FilterableList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      key: '',\n      items: props.items,\n    };\n\n    this.filterItems = this.filterItems.bind(this);\n    this.toggleItem = this.toggleItem.bind(this);\n  }\n\n  componentWillUnmount() {\n    // onExit hook\n    const { onExit } = this.props;\n    if (onExit) onExit(this.state.items);\n  }\n\n  filterItems(e) {\n    this.setState({ key: e.target.value });\n  }\n\n  toggleItem(id) {\n    const items = this.state.items;\n    const item = items.find(i => i._id === id);\n\n    items[items.indexOf(item)].selectedBy = item.selectedBy === 'all' ? 'none' : 'all';\n\n    this.setState({ items });\n\n    // onClick hook\n    const { onClick } = this.props;\n    if (onClick) onClick(items, id);\n  }\n\n  renderItems() {\n    const { items, showCheckmark = true } = this.props;\n    const { key } = this.state;\n\n    return items.map(item => {\n      // filter items by key\n      if (key && item.title.toLowerCase().indexOf(key) < 0) {\n        return false;\n      }\n\n      return (\n        <li\n          key={item._id}\n          className={showCheckmark ? item.selectedBy : ''}\n          onClick={() => {\n            this.toggleItem(item._id);\n          }}\n        >\n          {item.iconClass\n            ? <i className={`icon ${item.iconClass}`} style={{ color: item.iconColor }} />\n            : null}\n          {' '}\n          {item.title || '[undefined]'}\n        </li>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div className={this.props.className}>\n        <div className=\"popover-header\">\n          <Filter onChange={this.filterItems} />\n        </div>\n\n        <div className=\"popover-body\">\n          <ul className=\"popover-list selectable\">\n            {this.renderItems()}\n          </ul>\n        </div>\n\n        <div className=\"popover-footer\">\n          <ul className=\"popover-list linked\">\n            {this.props.links &&\n              this.props.links.map(link => (\n                <li key={link.href}>\n                  <a onClick={link.onClick} href={link.href}>{link.title}</a>\n                </li>\n              ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nFilterableList.propTypes = propTypes;\n\nexport default FilterableList;\n"]},"hash":"215c346d6cd19eb53f642d9f7da036ff3e5826fc"}
