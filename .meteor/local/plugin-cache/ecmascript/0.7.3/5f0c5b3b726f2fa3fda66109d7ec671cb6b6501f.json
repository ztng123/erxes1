{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","PropTypes","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"PropTypes","local":"PropTypes"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"/imports/react-ui/layout/components","imported":["Wrapper"],"specifiers":[{"kind":"named","imported":"Wrapper","local":"Wrapper"}]},{"source":"./RightSidebar","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"RightSidebar"}]},{"source":"./LeftSidebar","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"LeftSidebar"}]},{"source":"../conversation/Conversation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Conversation"}]},{"source":"../../containers","imported":["RespondBox"],"specifiers":[{"kind":"named","imported":"RespondBox","local":"RespondBox"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/inbox/components/details/Details.js","filenameRelative":"/imports/react-ui/inbox/components/details/Details.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/inbox/components/details/Details.js.map","sourceFileName":"/imports/react-ui/inbox/components/details/Details.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Details"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    PropTypes = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar Wrapper = void 0;\nmodule.importSync(\"/imports/react-ui/layout/components\", {\n  Wrapper: function (v) {\n    Wrapper = v;\n  }\n}, 1);\nvar RightSidebar = void 0;\nmodule.importSync(\"./RightSidebar\", {\n  \"default\": function (v) {\n    RightSidebar = v;\n  }\n}, 2);\nvar LeftSidebar = void 0;\nmodule.importSync(\"./LeftSidebar\", {\n  \"default\": function (v) {\n    LeftSidebar = v;\n  }\n}, 3);\nvar Conversation = void 0;\nmodule.importSync(\"../conversation/Conversation\", {\n  \"default\": function (v) {\n    Conversation = v;\n  }\n}, 4);\nvar RespondBox = void 0;\nmodule.importSync(\"../../containers\", {\n  RespondBox: function (v) {\n    RespondBox = v;\n  }\n}, 5);\nvar propTypes = {\n  conversation: PropTypes.object.isRequired,\n  messages: PropTypes.array.isRequired,\n  changeStatus: PropTypes.func.isRequired,\n  attachmentPreview: PropTypes.object,\n  queryParams: PropTypes.object.isRequired,\n  setAttachmentPreview: PropTypes.func.isRequired,\n  refetch: PropTypes.func.isRequired\n};\n\nvar Details = function (_Component) {\n  (0, _inherits3.default)(Details, _Component);\n\n  function Details() {\n    (0, _classCallCheck3.default)(this, Details);\n    return (0, _possibleConstructorReturn3.default)(this, _Component.apply(this, arguments));\n  }\n\n  Details.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      this.node.scrollTop = this.node.scrollHeight;\n    }\n\n    return componentDidMount;\n  }();\n\n  Details.prototype.componentWillUpdate = function () {\n    function componentWillUpdate() {\n      var node = this.node;\n      this.shouldScrollBottom = node.scrollTop + node.offsetHeight === node.scrollHeight;\n    }\n\n    return componentWillUpdate;\n  }();\n\n  Details.prototype.componentDidUpdate = function () {\n    function componentDidUpdate() {\n      this.node.scrollTop = this.node.scrollHeight;\n    }\n\n    return componentDidUpdate;\n  }();\n\n  Details.prototype.render = function () {\n    function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          changeStatus = _props.changeStatus,\n          conversation = _props.conversation,\n          messages = _props.messages,\n          attachmentPreview = _props.attachmentPreview,\n          setAttachmentPreview = _props.setAttachmentPreview;\n      var content = React.createElement(\n        \"div\",\n        {\n          className: \"scroll-area\",\n          ref: function (node) {\n            _this2.node = node;\n          }\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"margined\"\n          },\n          React.createElement(Conversation, {\n            conversation: conversation,\n            messages: messages,\n            attachmentPreview: attachmentPreview\n          })\n        )\n      );\n      var breadcrumb = [{\n        title: 'Inbox',\n        link: '/inbox'\n      }, {\n        title: 'Conversation'\n      }];\n      return React.createElement(\n        \"div\",\n        null,\n        React.createElement(Wrapper, {\n          header: React.createElement(Wrapper.Header, {\n            breadcrumb: breadcrumb\n          }),\n          content: content,\n          footer: React.createElement(RespondBox, {\n            conversation: conversation,\n            setAttachmentPreview: setAttachmentPreview\n          }),\n          leftSidebar: React.createElement(LeftSidebar, {\n            conversation: conversation,\n            messagesCount: messages.length,\n            changeStatus: changeStatus\n          }),\n          rightSidebar: React.createElement(RightSidebar, {\n            conversation: conversation,\n            refetch: this.props.refetch\n          }),\n          relative: true\n        })\n      );\n    }\n\n    return render;\n  }();\n\n  return Details;\n}(Component);\n\nDetails.propTypes = propTypes;\nmodule.export(\"default\", exports.default = Details);","map":{"version":3,"sources":["/imports/react-ui/inbox/components/details/Details.js"],"names":["React","PropTypes","Component","module","importSync","v","Wrapper","RightSidebar","LeftSidebar","Conversation","RespondBox","propTypes","conversation","object","isRequired","messages","array","changeStatus","func","attachmentPreview","queryParams","setAttachmentPreview","refetch","Details","componentDidMount","node","scrollTop","scrollHeight","componentWillUpdate","shouldScrollBottom","offsetHeight","componentDidUpdate","render","props","content","breadcrumb","title","link","length","export","exports","default"],"mappings":"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","file":"/imports/react-ui/inbox/components/details/Details.js.map","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport { Wrapper } from '/imports/react-ui/layout/components';\nimport RightSidebar from './RightSidebar';\nimport LeftSidebar from './LeftSidebar';\nimport Conversation from '../conversation/Conversation';\nimport { RespondBox } from '../../containers';\n\nconst propTypes = {\n  conversation: PropTypes.object.isRequired,\n  messages: PropTypes.array.isRequired,\n  changeStatus: PropTypes.func.isRequired,\n  attachmentPreview: PropTypes.object,\n  queryParams: PropTypes.object.isRequired,\n  setAttachmentPreview: PropTypes.func.isRequired,\n  refetch: PropTypes.func.isRequired,\n};\n\nclass Details extends Component {\n  componentDidMount() {\n    this.node.scrollTop = this.node.scrollHeight;\n  }\n\n  componentWillUpdate() {\n    const { node } = this;\n    this.shouldScrollBottom = node.scrollTop + node.offsetHeight === node.scrollHeight;\n  }\n\n  componentDidUpdate() {\n    this.node.scrollTop = this.node.scrollHeight;\n  }\n\n  render() {\n    const {\n      changeStatus,\n      conversation,\n      messages,\n      attachmentPreview,\n      setAttachmentPreview,\n    } = this.props;\n\n    const content = (\n      <div\n        className=\"scroll-area\"\n        ref={node => {\n          this.node = node;\n        }}\n      >\n        <div className=\"margined\">\n          <Conversation\n            conversation={conversation}\n            messages={messages}\n            attachmentPreview={attachmentPreview}\n          />\n        </div>\n      </div>\n    );\n\n    const breadcrumb = [{ title: 'Inbox', link: '/inbox' }, { title: 'Conversation' }];\n\n    return (\n      <div>\n        <Wrapper\n          header={<Wrapper.Header breadcrumb={breadcrumb} />}\n          content={content}\n          footer={\n            <RespondBox conversation={conversation} setAttachmentPreview={setAttachmentPreview} />\n          }\n          leftSidebar={\n            <LeftSidebar\n              conversation={conversation}\n              messagesCount={messages.length}\n              changeStatus={changeStatus}\n            />\n          }\n          rightSidebar={<RightSidebar conversation={conversation} refetch={this.props.refetch} />}\n          relative\n        />\n      </div>\n    );\n  }\n}\n\nDetails.propTypes = propTypes;\n\nexport default Details;\n"]},"hash":"5f0c5b3b726f2fa3fda66109d7ec671cb6b6501f"}
