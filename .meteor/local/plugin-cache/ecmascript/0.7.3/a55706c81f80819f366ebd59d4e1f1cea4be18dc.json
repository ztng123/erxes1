{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react-bootstrap","imported":["OverlayTrigger","Dropdown","MenuItem","Popover","Badge"],"specifiers":[{"kind":"named","imported":"OverlayTrigger","local":"OverlayTrigger"},{"kind":"named","imported":"Dropdown","local":"Dropdown"},{"kind":"named","imported":"MenuItem","local":"MenuItem"},{"kind":"named","imported":"Popover","local":"Popover"},{"kind":"named","imported":"Badge","local":"Badge"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/kadira:flow-router","imported":["FlowRouter"],"specifiers":[{"kind":"named","imported":"FlowRouter","local":"FlowRouter"}]},{"source":"/imports/react-ui/common","imported":["NameCard","DropdownToggle"],"specifiers":[{"kind":"named","imported":"NameCard","local":"NameCard"},{"kind":"named","imported":"DropdownToggle","local":"DropdownToggle"}]},{"source":"../containers","imported":["NotificationsLatest"],"specifiers":[{"kind":"named","imported":"NotificationsLatest","local":"NotificationsLatest"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/layout/components/QuickNavigation.js","filenameRelative":"/imports/react-ui/layout/components/QuickNavigation.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/layout/components/QuickNavigation.js.map","sourceFileName":"/imports/react-ui/layout/components/QuickNavigation.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"QuickNavigation"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.importSync(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar OverlayTrigger = void 0,\n    Dropdown = void 0,\n    MenuItem = void 0,\n    Popover = void 0,\n    Badge = void 0;\nmodule.importSync(\"react-bootstrap\", {\n  OverlayTrigger: function (v) {\n    OverlayTrigger = v;\n  },\n  Dropdown: function (v) {\n    Dropdown = v;\n  },\n  MenuItem: function (v) {\n    MenuItem = v;\n  },\n  Popover: function (v) {\n    Popover = v;\n  },\n  Badge: function (v) {\n    Badge = v;\n  }\n}, 2);\nvar Meteor = void 0;\nmodule.importSync(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 3);\nvar FlowRouter = void 0;\nmodule.importSync(\"meteor/kadira:flow-router\", {\n  FlowRouter: function (v) {\n    FlowRouter = v;\n  }\n}, 4);\nvar NameCard = void 0,\n    DropdownToggle = void 0;\nmodule.importSync(\"/imports/react-ui/common\", {\n  NameCard: function (v) {\n    NameCard = v;\n  },\n  DropdownToggle: function (v) {\n    DropdownToggle = v;\n  }\n}, 5);\nvar NotificationsLatest = void 0;\nmodule.importSync(\"../containers\", {\n  NotificationsLatest: function (v) {\n    NotificationsLatest = v;\n  }\n}, 6);\nvar propTypes = {\n  unreadCount: PropTypes.number.isRequired\n};\n\nvar QuickNavigation = function (_Component) {\n  (0, _inherits3.default)(QuickNavigation, _Component);\n\n  function QuickNavigation() {\n    (0, _classCallCheck3.default)(this, QuickNavigation);\n    return (0, _possibleConstructorReturn3.default)(this, _Component.apply(this, arguments));\n  }\n\n  QuickNavigation.prototype.componentDidUpdate = function () {\n    function componentDidUpdate(prevProps) {\n      if (prevProps.unreadCount < this.props.unreadCount) {\n        var audio = new Audio('/sound/notify.mp3');\n        audio.play();\n      }\n    }\n\n    return componentDidUpdate;\n  }();\n\n  QuickNavigation.prototype.render = function () {\n    function render() {\n      var unreadCount = this.props.unreadCount;\n      var user = Meteor.user();\n      var popoverNotification = React.createElement(\n        Popover,\n        {\n          id: \"npopover\",\n          className: \"notification-popover\",\n          title: \"Notifications\"\n        },\n        React.createElement(NotificationsLatest, null)\n      );\n      return React.createElement(\n        \"nav\",\n        {\n          className: \"quick-nav\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"nav-item\"\n          },\n          React.createElement(\n            OverlayTrigger,\n            {\n              trigger: \"click\",\n              rootClose: true,\n              placement: \"bottom\",\n              containerPadding: 15,\n              overlay: popoverNotification\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"action-button\"\n              },\n              React.createElement(\"i\", {\n                className: \"ion-android-notifications\"\n              }),\n              React.createElement(\n                Badge,\n                null,\n                unreadCount !== 0 ? unreadCount : null\n              )\n            )\n          )\n        ),\n        React.createElement(\n          \"div\",\n          {\n            className: \"nav-item\"\n          },\n          React.createElement(\n            Dropdown,\n            {\n              id: \"dropdown-user\",\n              pullRight: true\n            },\n            React.createElement(\n              DropdownToggle,\n              {\n                bsRole: \"toggle\"\n              },\n              React.createElement(NameCard.Avatar, {\n                user: user\n              })\n            ),\n            React.createElement(\n              Dropdown.Menu,\n              null,\n              React.createElement(NameCard, {\n                user: user\n              }),\n              React.createElement(MenuItem, {\n                divider: true\n              }),\n              React.createElement(\n                MenuItem,\n                {\n                  href: FlowRouter.path('/settings/profile')\n                },\n                \"Edit Profile\"\n              ),\n              React.createElement(\n                MenuItem,\n                {\n                  href: FlowRouter.path('settings/change-password')\n                },\n                \"Change password\"\n              ),\n              React.createElement(MenuItem, {\n                divider: true\n              }),\n              React.createElement(\n                MenuItem,\n                {\n                  href: FlowRouter.path('/logout')\n                },\n                \"Sign out\"\n              )\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return QuickNavigation;\n}(Component);\n\nQuickNavigation.propTypes = propTypes;\nmodule.export(\"default\", exports.default = QuickNavigation);","map":{"version":3,"sources":["/imports/react-ui/layout/components/QuickNavigation.js"],"names":["React","Component","module","importSync","v","PropTypes","OverlayTrigger","Dropdown","MenuItem","Popover","Badge","Meteor","FlowRouter","NameCard","DropdownToggle","NotificationsLatest","propTypes","unreadCount","number","isRequired","QuickNavigation","componentDidUpdate","prevProps","props","audio","Audio","play","render","user","popoverNotification","path","export","exports","default"],"mappings":"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","file":"/imports/react-ui/layout/components/QuickNavigation.js.map","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { OverlayTrigger, Dropdown, MenuItem, Popover, Badge } from 'react-bootstrap';\nimport { Meteor } from 'meteor/meteor';\nimport { FlowRouter } from 'meteor/kadira:flow-router';\nimport { NameCard, DropdownToggle } from '/imports/react-ui/common';\nimport { NotificationsLatest } from '../containers';\n\nconst propTypes = {\n  unreadCount: PropTypes.number.isRequired,\n};\n\nclass QuickNavigation extends Component {\n  componentDidUpdate(prevProps) {\n    if (prevProps.unreadCount < this.props.unreadCount) {\n      const audio = new Audio('/sound/notify.mp3');\n      audio.play();\n    }\n  }\n\n  render() {\n    const unreadCount = this.props.unreadCount;\n    const user = Meteor.user();\n    const popoverNotification = (\n      <Popover id=\"npopover\" className=\"notification-popover\" title=\"Notifications\">\n        <NotificationsLatest />\n      </Popover>\n    );\n    return (\n      <nav className=\"quick-nav\">\n        <div className=\"nav-item\">\n          <OverlayTrigger\n            trigger=\"click\"\n            rootClose\n            placement=\"bottom\"\n            containerPadding={15}\n            overlay={popoverNotification}\n          >\n            <div className=\"action-button\">\n              <i className=\"ion-android-notifications\" />\n              <Badge>\n                {unreadCount !== 0 ? unreadCount : null}\n              </Badge>\n            </div>\n          </OverlayTrigger>\n        </div>\n        <div className=\"nav-item\">\n          <Dropdown id=\"dropdown-user\" pullRight>\n            <DropdownToggle bsRole=\"toggle\">\n              <NameCard.Avatar user={user} />\n            </DropdownToggle>\n            <Dropdown.Menu>\n              <NameCard user={user} />\n              <MenuItem divider />\n              <MenuItem href={FlowRouter.path('/settings/profile')}>Edit Profile</MenuItem>\n              <MenuItem href={FlowRouter.path('settings/change-password')}>\n                Change password\n              </MenuItem>\n              <MenuItem divider />\n              <MenuItem href={FlowRouter.path('/logout')}>Sign out</MenuItem>\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </nav>\n    );\n  }\n}\n\nQuickNavigation.propTypes = propTypes;\n\nexport default QuickNavigation;\n"]},"hash":"a55706c81f80819f366ebd59d4e1f1cea4be18dc"}
