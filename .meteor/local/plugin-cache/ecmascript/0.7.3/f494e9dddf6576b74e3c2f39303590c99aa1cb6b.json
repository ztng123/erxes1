{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","PropTypes","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"PropTypes","local":"PropTypes"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-bootstrap","imported":["Button","Label"],"specifiers":[{"kind":"named","imported":"Button","local":"Button"},{"kind":"named","imported":"Label","local":"Label"}]},{"source":"meteor/erxes-notifier","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Alert"}]},{"source":"/imports/react-ui/common","imported":["ModalTrigger","Tip","ActionButtons"],"specifiers":[{"kind":"named","imported":"ModalTrigger","local":"ModalTrigger"},{"kind":"named","imported":"Tip","local":"Tip"},{"kind":"named","imported":"ActionButtons","local":"ActionButtons"}]},{"source":"/imports/api/integrations/constants","imported":["KIND_CHOICES"],"specifiers":[{"kind":"named","imported":"KIND_CHOICES","local":"KIND_CHOICES"}]},{"source":"../containers","imported":["Form","Messenger"],"specifiers":[{"kind":"named","imported":"Form","local":"Form"},{"kind":"named","imported":"Messenger","local":"Messenger"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/settings/integrations/components/Row.js","filenameRelative":"/imports/react-ui/settings/integrations/components/Row.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/settings/integrations/components/Row.js.map","sourceFileName":"/imports/react-ui/settings/integrations/components/Row.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Row"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    PropTypes = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar Button = void 0,\n    Label = void 0;\nmodule.importSync(\"react-bootstrap\", {\n  Button: function (v) {\n    Button = v;\n  },\n  Label: function (v) {\n    Label = v;\n  }\n}, 1);\nvar Alert = void 0;\nmodule.importSync(\"meteor/erxes-notifier\", {\n  \"default\": function (v) {\n    Alert = v;\n  }\n}, 2);\nvar ModalTrigger = void 0,\n    Tip = void 0,\n    ActionButtons = void 0;\nmodule.importSync(\"/imports/react-ui/common\", {\n  ModalTrigger: function (v) {\n    ModalTrigger = v;\n  },\n  Tip: function (v) {\n    Tip = v;\n  },\n  ActionButtons: function (v) {\n    ActionButtons = v;\n  }\n}, 3);\nvar KIND_CHOICES = void 0;\nmodule.importSync(\"/imports/api/integrations/constants\", {\n  KIND_CHOICES: function (v) {\n    KIND_CHOICES = v;\n  }\n}, 4);\nvar Form = void 0,\n    Messenger = void 0;\nmodule.importSync(\"../containers\", {\n  Form: function (v) {\n    Form = v;\n  },\n  Messenger: function (v) {\n    Messenger = v;\n  }\n}, 5);\nvar propTypes = {\n  integration: PropTypes.object.isRequired,\n  removeIntegration: PropTypes.func.isRequired,\n  refetch: PropTypes.func.isRequired\n};\n\nvar Row = function (_Component) {\n  (0, _inherits3.default)(Row, _Component);\n\n  function Row(props) {\n    (0, _classCallCheck3.default)(this, Row);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.removeIntegration = _this.removeIntegration.bind(_this);\n    _this.getTypeName = _this.getTypeName.bind(_this);\n    return _this;\n  }\n\n  Row.prototype.removeIntegration = function () {\n    function removeIntegration() {\n      if (!confirm('Are you sure?')) return; // eslint-disable-line\n\n      var _props = this.props,\n          integration = _props.integration,\n          removeIntegration = _props.removeIntegration;\n      removeIntegration(integration._id, function (error) {\n        if (error) {\n          return Alert.error(error.reason);\n        }\n\n        return Alert.success('Congrats');\n      });\n    }\n\n    return removeIntegration;\n  }();\n\n  Row.prototype.renderExtraLinks = function () {\n    function renderExtraLinks() {\n      var _props2 = this.props,\n          integration = _props2.integration,\n          refetch = _props2.refetch;\n      var kind = integration.kind;\n      var editTrigger = React.createElement(\n        Button,\n        {\n          bsStyle: \"link\"\n        },\n        React.createElement(\n          Tip,\n          {\n            text: \"Edit\"\n          },\n          React.createElement(\"i\", {\n            className: \"ion-edit\"\n          })\n        )\n      );\n\n      if (kind === KIND_CHOICES.MESSENGER) {\n        return React.createElement(\n          \"div\",\n          {\n            style: {\n              display: 'inline-block'\n            }\n          },\n          React.createElement(\n            Tip,\n            {\n              text: \"Appearance\"\n            },\n            React.createElement(\n              Button,\n              {\n                bsStyle: \"link\",\n                href: \"/settings/integrations/messenger/appearance/\" + integration._id\n              },\n              React.createElement(\"i\", {\n                className: \"ion-paintbucket\"\n              })\n            )\n          ),\n          React.createElement(\n            Tip,\n            {\n              text: \"Hours, Availability & Other configs\"\n            },\n            React.createElement(\n              Button,\n              {\n                bsStyle: \"link\",\n                href: \"/settings/integrations/messenger/configs/\" + integration._id\n              },\n              React.createElement(\"i\", {\n                className: \"ion-gear-a\"\n              })\n            )\n          ),\n          React.createElement(\n            ModalTrigger,\n            {\n              title: \"Edit integration\",\n              trigger: editTrigger\n            },\n            React.createElement(Messenger, {\n              integration: integration,\n              refetch: refetch\n            })\n          )\n        );\n      }\n\n      if (kind === KIND_CHOICES.FORM) {\n        return React.createElement(\n          ModalTrigger,\n          {\n            title: \"Edit integration\",\n            trigger: editTrigger\n          },\n          React.createElement(Form, {\n            integration: integration,\n            refetch: refetch\n          })\n        );\n      }\n\n      return null;\n    }\n\n    return renderExtraLinks;\n  }();\n\n  Row.prototype.getTypeName = function () {\n    function getTypeName() {\n      var kind = this.props.integration.kind;\n      var type = 'defult';\n\n      if (kind === KIND_CHOICES.FORM) {\n        type = 'form';\n      }\n\n      if (kind === KIND_CHOICES.TWITTER) {\n        type = 'twitter';\n      }\n\n      if (kind === KIND_CHOICES.FACEBOOK) {\n        type = 'facebook';\n      }\n\n      return type;\n    }\n\n    return getTypeName;\n  }();\n\n  Row.prototype.render = function () {\n    function render() {\n      var integration = this.props.integration;\n      return React.createElement(\n        \"tr\",\n        null,\n        React.createElement(\n          \"td\",\n          null,\n          integration.name\n        ),\n        React.createElement(\n          \"td\",\n          null,\n          React.createElement(\n            Label,\n            {\n              className: \"label-\" + this.getTypeName()\n            },\n            integration.kind\n          )\n        ),\n        React.createElement(\n          \"td\",\n          null,\n          integration.brand ? integration.brand.name : ''\n        ),\n        React.createElement(\n          \"td\",\n          {\n            className: \"text-right\"\n          },\n          React.createElement(\n            ActionButtons,\n            null,\n            this.renderExtraLinks(),\n            React.createElement(\n              Tip,\n              {\n                text: \"Delete\"\n              },\n              React.createElement(\n                Button,\n                {\n                  bsStyle: \"link\",\n                  onClick: this.removeIntegration\n                },\n                React.createElement(\"i\", {\n                  className: \"ion-close-circled\"\n                })\n              )\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return Row;\n}(Component);\n\nRow.propTypes = propTypes;\nmodule.export(\"default\", exports.default = Row);","map":{"version":3,"sources":["/imports/react-ui/settings/integrations/components/Row.js"],"names":["React","PropTypes","Component","module","importSync","v","Button","Label","Alert","ModalTrigger","Tip","ActionButtons","KIND_CHOICES","Form","Messenger","propTypes","integration","object","isRequired","removeIntegration","func","refetch","Row","props","bind","getTypeName","confirm","_id","error","reason","success","renderExtraLinks","kind","editTrigger","MESSENGER","display","FORM","type","TWITTER","FACEBOOK","render","name","brand","export","exports","default"],"mappings":"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","file":"/imports/react-ui/settings/integrations/components/Row.js.map","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport { Button, Label } from 'react-bootstrap';\nimport Alert from 'meteor/erxes-notifier';\nimport { ModalTrigger, Tip, ActionButtons } from '/imports/react-ui/common';\nimport { KIND_CHOICES } from '/imports/api/integrations/constants';\nimport { Form, Messenger } from '../containers';\n\nconst propTypes = {\n  integration: PropTypes.object.isRequired,\n  removeIntegration: PropTypes.func.isRequired,\n  refetch: PropTypes.func.isRequired,\n};\n\nclass Row extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeIntegration = this.removeIntegration.bind(this);\n    this.getTypeName = this.getTypeName.bind(this);\n  }\n\n  removeIntegration() {\n    if (!confirm('Are you sure?')) return; // eslint-disable-line\n\n    const { integration, removeIntegration } = this.props;\n\n    removeIntegration(integration._id, error => {\n      if (error) {\n        return Alert.error(error.reason);\n      }\n\n      return Alert.success('Congrats');\n    });\n  }\n\n  renderExtraLinks() {\n    const { integration, refetch } = this.props;\n    const kind = integration.kind;\n\n    const editTrigger = (\n      <Button bsStyle=\"link\">\n        <Tip text=\"Edit\">\n          <i className=\"ion-edit\" />\n        </Tip>\n      </Button>\n    );\n\n    if (kind === KIND_CHOICES.MESSENGER) {\n      return (\n        <div style={{ display: 'inline-block' }}>\n          <Tip text=\"Appearance\">\n            <Button\n              bsStyle=\"link\"\n              href={`/settings/integrations/messenger/appearance/${integration._id}`}\n            >\n              <i className=\"ion-paintbucket\" />\n            </Button>\n          </Tip>\n\n          <Tip text=\"Hours, Availability & Other configs\">\n            <Button\n              bsStyle=\"link\"\n              href={`/settings/integrations/messenger/configs/${integration._id}`}\n            >\n              <i className=\"ion-gear-a\" />\n            </Button>\n          </Tip>\n\n          <ModalTrigger title=\"Edit integration\" trigger={editTrigger}>\n            <Messenger integration={integration} refetch={refetch} />\n          </ModalTrigger>\n        </div>\n      );\n    }\n\n    if (kind === KIND_CHOICES.FORM) {\n      return (\n        <ModalTrigger title=\"Edit integration\" trigger={editTrigger}>\n          <Form integration={integration} refetch={refetch} />\n        </ModalTrigger>\n      );\n    }\n\n    return null;\n  }\n\n  getTypeName() {\n    const kind = this.props.integration.kind;\n    let type = 'defult';\n\n    if (kind === KIND_CHOICES.FORM) {\n      type = 'form';\n    }\n\n    if (kind === KIND_CHOICES.TWITTER) {\n      type = 'twitter';\n    }\n\n    if (kind === KIND_CHOICES.FACEBOOK) {\n      type = 'facebook';\n    }\n\n    return type;\n  }\n\n  render() {\n    const integration = this.props.integration;\n\n    return (\n      <tr>\n        <td>\n          {integration.name}\n        </td>\n        <td>\n          <Label className={`label-${this.getTypeName()}`}>\n            {integration.kind}\n          </Label>\n        </td>\n        <td>\n          {integration.brand ? integration.brand.name : ''}\n        </td>\n\n        <td className=\"text-right\">\n          <ActionButtons>\n            {this.renderExtraLinks()}\n\n            <Tip text=\"Delete\">\n              <Button bsStyle=\"link\" onClick={this.removeIntegration}>\n                <i className=\"ion-close-circled\" />\n              </Button>\n            </Tip>\n          </ActionButtons>\n        </td>\n      </tr>\n    );\n  }\n}\n\nRow.propTypes = propTypes;\n\nexport default Row;\n"]},"hash":"f494e9dddf6576b74e3c2f39303590c99aa1cb6b"}
