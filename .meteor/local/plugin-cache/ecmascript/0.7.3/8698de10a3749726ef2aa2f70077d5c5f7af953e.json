{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/react-ui/common/Attachment.js","filenameRelative":"/imports/react-ui/common/Attachment.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/react-ui/common/Attachment.js.map","sourceFileName":"/imports/react-ui/common/Attachment.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Attachment"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.importSync(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar propTypes = {\n  attachment: PropTypes.object.isRequired\n};\n\nvar Attachment = function (_Component) {\n  (0, _inherits3.default)(Attachment, _Component);\n\n  function Attachment(props) {\n    (0, _classCallCheck3.default)(this, Attachment);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.renderAtachment = _this.renderAtachment.bind(_this);\n    return _this;\n  }\n\n  Attachment.prototype.renderAtachment = function () {\n    function renderAtachment(_ref) {\n      var attachment = _ref.attachment;\n\n      // when facebook attachments, it is not possible to determine file type\n      // from extension, so determine it by type property\n      if (attachment.type === 'image/jpeg' || attachment.type === 'image/png') {\n        return React.createElement(\"img\", {\n          role: \"presentation\",\n          src: attachment.url\n        });\n      }\n\n      var url = attachment.url || attachment.name || '';\n      var fileExtension = url.split('.').pop();\n      var filePreview = void 0;\n\n      switch (fileExtension) {\n        case 'png':\n        case 'jpeg':\n        case 'jpg':\n          filePreview = React.createElement(\"img\", {\n            role: \"presentation\",\n            src: attachment.url\n          });\n          break;\n\n        case 'doc':\n        case 'docx':\n        case 'txt':\n        case 'pdf':\n        case 'xls':\n        case 'xlsx':\n        case 'ppt':\n        case 'pptx':\n          filePreview = React.createElement(\n            \"div\",\n            {\n              className: \"file-wrapper\"\n            },\n            React.createElement(\"i\", {\n              className: \"ion-document-text\"\n            }),\n            \" \",\n            React.createElement(\n              \"span\",\n              null,\n              attachment.name\n            )\n          );\n          break;\n\n        case 'mp4':\n        case 'avi':\n          filePreview = React.createElement(\n            \"div\",\n            {\n              className: \"file-wrapper\"\n            },\n            React.createElement(\"i\", {\n              className: \"ion-videocamera\"\n            }),\n            \" \",\n            React.createElement(\n              \"span\",\n              null,\n              attachment.name\n            )\n          );\n          break;\n\n        case 'mp3':\n        case 'wav':\n          filePreview = React.createElement(\n            \"div\",\n            {\n              className: \"file-wrapper\"\n            },\n            React.createElement(\"i\", {\n              className: \"ion-volume-medium\"\n            }),\n            \" \",\n            React.createElement(\n              \"span\",\n              null,\n              attachment.name\n            )\n          );\n          break;\n\n        case 'zip':\n          filePreview = React.createElement(\n            \"div\",\n            {\n              className: \"file-wrapper\"\n            },\n            React.createElement(\"i\", {\n              className: \"ion-android-archive\"\n            }),\n            \" \",\n            React.createElement(\n              \"span\",\n              null,\n              attachment.name\n            )\n          );\n          break;\n\n        default:\n          filePreview = React.createElement(\n            \"div\",\n            {\n              className: \"file-wrapper\"\n            },\n            React.createElement(\"i\", {\n              className: \"ion-document\"\n            }),\n            \" \",\n            React.createElement(\n              \"span\",\n              null,\n              attachment.name\n            )\n          );\n      }\n\n      return filePreview;\n    }\n\n    return renderAtachment;\n  }();\n\n  Attachment.prototype.render = function () {\n    function render() {\n      var props = this.props;\n      return React.createElement(\n        \"a\",\n        {\n          className: \"download-attachment\",\n          href: props.attachment.url,\n          target: \"_blank\"\n        },\n        this.renderAtachment(props),\n        React.createElement(\n          \"div\",\n          {\n            className: \"overlay\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"icon\"\n            },\n            React.createElement(\"i\", {\n              className: \"ion-android-download\"\n            })\n          )\n        ),\n        React.createElement(\n          \"div\",\n          {\n            className: \"file-size\"\n          },\n          Math.round(props.attachment.size / 1000),\n          \"kB\"\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return Attachment;\n}(Component);\n\nAttachment.propTypes = propTypes;\nmodule.export(\"default\", exports.default = Attachment);","map":{"version":3,"sources":["/imports/react-ui/common/Attachment.js"],"names":["React","Component","module","importSync","v","PropTypes","propTypes","attachment","object","isRequired","Attachment","props","renderAtachment","bind","type","url","name","fileExtension","split","pop","filePreview","render","Math","round","size","export","exports","default"],"mappings":"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","file":"/imports/react-ui/common/Attachment.js.map","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  attachment: PropTypes.object.isRequired,\n};\n\nclass Attachment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderAtachment = this.renderAtachment.bind(this);\n  }\n\n  renderAtachment({ attachment }) {\n    // when facebook attachments, it is not possible to determine file type\n    // from extension, so determine it by type property\n    if (attachment.type === 'image/jpeg' || attachment.type === 'image/png') {\n      return <img role=\"presentation\" src={attachment.url} />;\n    }\n\n    const url = attachment.url || attachment.name || '';\n    const fileExtension = url.split('.').pop();\n\n    let filePreview;\n    switch (fileExtension) {\n      case 'png':\n      case 'jpeg':\n      case 'jpg':\n        filePreview = <img role=\"presentation\" src={attachment.url} />;\n        break;\n      case 'doc':\n      case 'docx':\n      case 'txt':\n      case 'pdf':\n      case 'xls':\n      case 'xlsx':\n      case 'ppt':\n      case 'pptx':\n        filePreview = (\n          <div className=\"file-wrapper\">\n            <i className=\"ion-document-text\" /> <span>{attachment.name}</span>\n          </div>\n        );\n        break;\n      case 'mp4':\n      case 'avi':\n        filePreview = (\n          <div className=\"file-wrapper\">\n            <i className=\"ion-videocamera\" /> <span>{attachment.name}</span>\n          </div>\n        );\n        break;\n      case 'mp3':\n      case 'wav':\n        filePreview = (\n          <div className=\"file-wrapper\">\n            <i className=\"ion-volume-medium\" /> <span>{attachment.name}</span>\n          </div>\n        );\n        break;\n      case 'zip':\n        filePreview = (\n          <div className=\"file-wrapper\">\n            <i className=\"ion-android-archive\" /> <span>{attachment.name}</span>\n          </div>\n        );\n        break;\n      default:\n        filePreview = (\n          <div className=\"file-wrapper\">\n            <i className=\"ion-document\" /> <span>{attachment.name}</span>\n          </div>\n        );\n    }\n    return filePreview;\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <a className=\"download-attachment\" href={props.attachment.url} target=\"_blank\">\n        {this.renderAtachment(props)}\n        <div className=\"overlay\">\n          <div className=\"icon\">\n            <i className=\"ion-android-download\" />\n          </div>\n        </div>\n        <div className=\"file-size\">\n          {Math.round(props.attachment.size / 1000)}kB\n        </div>\n      </a>\n    );\n  }\n}\n\nAttachment.propTypes = propTypes;\n\nexport default Attachment;\n"]},"hash":"8698de10a3749726ef2aa2f70077d5c5f7af953e"}
